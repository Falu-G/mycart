var DYO=DYO||{};"undefined"==typeof window.DY&&(window.DY={}),"undefined"==typeof window.DY.API&&(window.DY.API=function(){(DY.API.actions=DY.API.actions||[]).push(arguments)}),DYO=function(){function escapeContServerVariationSet(e){for(var t=experiments[e].variations.slice(0),r=0;r<t.length;r++)t[r].id=t[r].id,"undefined"!=typeof t[r].name&&null!=t[r].name&&"undefined"==typeof t[r].__name_escaped_flag&&(t[r].name=escape(t[r].name),t[r].__name_escaped_flag=!0),"undefined"!=typeof t[r].weight&&DYO.StringUtils.isN(t[r].weight)||(t[r].weight=null);return t}function escapeClientVariationSet(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=new Object;n.id=escape(DYJSON.stringify(e[r].id)),"undefined"!=typeof e[r].name&&null!=e[r].name&&(n.name=escape(e[r].name)),"undefined"!=typeof e[r].weight&&DYO.StringUtils.isN(e[r].weight)&&(n.weight=e[r].weight),t.push(n)}return t}function generateHash(e){var t=e.slice(0);t.sort(function(e,t){return e.id<t.id?-1:e.id>t.id?1:0});var r="";for(var n in t)t.hasOwnProperty(n)&&(r+=t[n].id,r+=DYO.ExpUtils.verSep);var i=hashCode(r),o=""+i;return o}function checkArrMatch(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var n in t)if(t.hasOwnProperty(n)&&e[r]==t[n])return!0;return!1}function expNameToId(e){for(var t in experiments)if(experiments.hasOwnProperty(t)&&experiments[t].name.toLowerCase()==e.toLowerCase())return t;return null}function varNameToId(e,t){if(experimentExists(e))for(var r=0;r<experiments[e].variations.length;r++)if(experiments[e].variations[r].name.toLowerCase()==t.toLowerCase())return experiments[e].variations[r].id;return null}function setForceCalculationOption(e){return("undefined"==typeof e||null==e)&&(e=[]),null!=e&&(e[OPTION_FORCE_CALCULATION]=!0),e}function getForceCalculationOption(e,t){var r=!1;return null!=t&&"undefined"!=typeof t[OPTION_FORCE_CALCULATION]&&null!=t[OPTION_FORCE_CALCULATION]&&(r=t[OPTION_FORCE_CALCULATION]),r||getVariationIdsFromQueryParam(e)}function setDebug(e){debug=e,DYO.d=debug}function experimentExists(e){return"undefined"!=typeof experiments[e]&&null!=experiments[e]}function checkAudience(e){if(experiments[e].audiences.length>0){var t=[];if("undefined"==typeof DY||"undefined"==typeof DY.aud)return!0;if(t=DY.aud.split("."),!(t.length>0))return!1;checkArrMatch(experiments[e].audiences,t)}return!0}function calculateDist(e){var t=!1;if(checkAudience(e)){var r=Math.floor(1e3*Math.random());t=r<10*experiments[e].traffic?!0:!1}else t=!1;return t}function getVariationIdsFromQueryParam(e){var t=DYO.StringUtils.getUrlParam("__dyfc_"+e)?DYO.StringUtils.getUrlParam("__dyfc_"+e).split(","):!1;return t}function setMultipleVariations(e,t,r,n,i){var o=[],a=getCurrentVersionDataStr(e),s=experiments[e],u=DYO.Props.isControlGroupChoose(s,a,t),c=DYO.Props.MANUAL_MECHANISM,d=[DYO.ExpUtils.SUB_MECHANISM_NA],l="undefined"!=typeof i&&null!=i&&"undefined"!=typeof i.varArr&&null!=i.varArr&&i.varArr.length>=n;if(n>r.length||0>=n);else if(getVariationIdsFromQueryParam(e))for(var p=getVariationIdsFromQueryParam(e),f=0;f<p.length;f++)for(var m=0;m<r.length;m++)p[f]===r[m].id.toString()&&o.push(r[m]);else if(u){var g=!0;if(s.controlGroup.method==DYO.Props.CGM_RANDOM&&null!=r&&r.length>0)o=DYO.Chooser.equalDecisions(r,n);else if(s.controlGroup.method==DYO.Props.CGM_PRESET_VARS&&"undefined"!=typeof s.controlGroup.varIds)for(var h=""+s.controlGroup.varIds,v=h.split(DYO.ExpUtils.variSep),f=0;f<v.length&&n>f;f++){var D=v[f],O=D.split(DYO.ExpUtils.verSep);o.push(O.length>1?{id:O[0],name:O[1]}:{id:O[0]})}else g=!1;g&&(c=DYO.Props.CONTROL_GROUP_MECHANISM,d=[l?DYO.ExpUtils.SUB_MECHANISM_CG_WITH_PREDICT:DYO.ExpUtils.SUB_MECHANISM_CG_WITHOUT_PREDICT])}else if(l)o=i.varArr,c=DYO.Props.PREDICT_MECHANISM,"undefined"!=typeof i.smechArr&&null!=i.smechArr&&i.smechArr.length>0&&(d=i.smechArr);else if(null!=r&&r.length>0&&null==r[0].weight)o=DYO.Chooser.equalDecisions(r,n),c=DYO.Props.MANUAL_MECHANISM;else{if(1>=n){var y=DYO.Chooser.weightedDecision(r);null!=y&&null!=y.loc&&o.push(r[y.loc])}else null!=r&&r.length>0&&(o=DYO.Chooser.wRandomChoose(r,n));c=DYO.Props.getMechanismRepresentingWeights(s);var Y=DYO.Props.getSubMechanismRepresentingWeights(s);null!=Y&&(d=[Y])}t=DYO.Props.resetVersionDataMechanism(t,c,d);for(var w=new Array,S=new Array,f=0;n>f&&f<o.length;f++){var x="undefined"!=typeof o[f].name&&null!=o[f].name;w[f]={id:DYJSON.parse(unescape(o[f].id)),name:x?unescape(o[f].name):""},S[f]=o[f].id+(x?DYO.ExpUtils.verSep+o[f].name:"")}return setVariations(e,t,S),w}function calculateMultipleProgVariation(e,t){var r=DYO.Props.expProgVersionData(experiments[e]),n=experiments[e].variations.slice(0),i=[];if(calculateDist(e)){var o=getProgPredictionDecisions(e,r,n,t);i=setMultipleVariations(e,r,n,t,o)}else setVariation(e,r,DYO.ExpUtils.notInExp),log("out of experiment");return i}function calculateMultipleContVariation(e,t,r,n){var i=DYO.Props.expContVersionData(experiments[e],r),o=t.slice(0),a=[];if(calculateDist(e)){experiments[e].variations.length>0&&DYO.Props.verifyClientIdsOfServerAndClientSynced(experiments[e],r)&&t.length==experiments[e].variations.length&&(o=escapeContServerVariationSet(e));var s=getContPredictionDecisions(e,i,o,r,n);a=setMultipleVariations(e,i,o,n,s)}else setVariation(e,i,DYO.ExpUtils.notInExp),log("out of experiment");return a}function getProgPredictionDecisions(e,t,r,n){return getPredictionDecisions(e,t,r,n)}function getContPredictionDecisions(e,t,r,n,i){return DYO.Props.verifyClientIdsOfServerAndClientSynced(experiments[e],n)?getPredictionDecisions(e,t,r,i):void 0}function getPredictionDecisions(e,t,r,n){var i=DYO.Predict.getPrediction(e,DYO.Props.getVersionId(t));return"undefined"!=typeof i&&null!=i&&"undefined"!=typeof i.varIdArr&&null!=i.varIdArr&&i.varIdArr.length>=n?(i.varArr=orderVariationsByPrediction(i.varIdArr,r,n),i):null}function orderVariationsByPrediction(e,t,r){for(var n=[],i=0,o=0;o<e.length;o++)for(var a=0;a<t.length;a++){var s=t[a];if(e[o]==s.id){if(n.push(s),i++,i==r)return n;break}}return n}function cleanupExperiments(){experimentTree={},refreshExperiments()}function refreshExperiments(){cleanupTreeAndStore(DYO.ExpUtils.storageKey,DYO.ExpUtils.cookieKey,experimentTree,!1);var e={};cleanupTreeAndStore(DYO.ExpUtils.storageAttKey,DYO.ExpUtils.cookieAttKey,e,!0)}function cleanupTreeAndStore(e,t,r,n){try{var i=getStoredExperiments(e,t);if("undefined"!=typeof i&&""!=i&&null!=i){for(var o=i.split(DYO.ExpUtils.expSep),a=0;a<o.length;a++)try{var s=o[a].split(DYO.ExpUtils.dataSep);if("undefined"!=typeof experiments[s[0]]){s=DYO.Props.correctFreshSessionPlaceholder(s);var u=s[1].split(DYO.ExpUtils.verSep),c=s.length>4?s[4].split(DYO.ExpUtils.verSep):null;if(DYO.Props.isStoredVersionValidDuringCleanup(experiments[s[0]],u,c))if(n){var d=c;DYO.Props.isStoredAttributionValidDuringCleanup(experiments[s[0]],u,d)&&(r[s[0]]=o[a])}else r[s[0]]=null==c?o[a]+DYO.ExpUtils.dataSep+DYO.Props.generateSelectionDataPart(experiments[s[0]]):o[a]}}catch(l){log("error cleaning experiment "+o[a])}storeExperiments(e,t,r)}}catch(l){log("error cleaning experiments")}}function storeExperiments(e,t,r){var n=[],i=[];for(var o in r)r.hasOwnProperty(o)&&(DYO.ExpUtils.isExpCookieManaged(o)?i.push(r[o]):n.push(r[o]));DYO.StorageUtils.set(e,n.join(DYO.ExpUtils.expSep),["localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain()}),DYO.StorageUtils.set(t,i.join(DYO.ExpUtils.expSep),["cookieStorage","localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain()})}function getStoredExperiments(e,t){var r=DYO.StorageUtils.get(e,["localStorage","cookieStorage"]),n=DYO.StorageUtils.get(t,["cookieStorage","localStorage"]),i=DYO.ExpUtils.merge(n,r);return i}function emptyMethod(){}function forceChooseVariation(e,t){return t=setForceCalculationOption(t),chooseVariation(e,t)}function chooseVariation(e,t){var r=chooseMultipleVariations(e,1,t);if(null!=r&&r.length>0&&null!=r[0].id){"number"!=typeof e&&(e=expNameToId(e));for(var n=0;n<experiments[e].variations.length;n++)if(experiments[e].variations[n].id==r[0].id)return n}return 0}function forceChooseMultipleVariations(e,t,r){return r=setForceCalculationOption(r),chooseMultipleVariations(e,t,r)}function chooseMultipleVariations(e,t,r){var n=[],i=getForceCalculationOption(e,r);if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)?(n=i?null:getDynamicVariations(e,DYO.Props.expProgVersionData(experiments[e])),(null==n||n.length!=t&&!isInPresetVarsCG(e))&&(n=calculateMultipleProgVariation(e,t)),varRimpSelectedVariations(e,n)):log("non existing experiment"),null!=n&&null!=experiments[e]&&experiments[e].autoExecuteAction)for(var o=0;o<n.length;++o)if(null!=n[o]&&null!=n[o].id){var a=n[o].id;executeVariation(parseInt(e),a)}return n}function isInPresetVarsCG(e){var t=experiments[e];if("undefined"!=typeof t.controlGroup&&t.controlGroup.method==DYO.Props.CGM_PRESET_VARS&&"undefined"!=typeof t.controlGroup.varIds){var r=DYO.getCurrentVersionDataStr(e);return DYO.Props.isCurrentlyInControlGroup(r)}return!1}function forceChooseMultipleDynamicVariations(e,t,r,n){return n=setForceCalculationOption(n),chooseMultipleDynamicVariations(e,t,r,n)}function chooseMultipleDynamicVariations(e,t,r,n){var i=getForceCalculationOption(e,n);null!=n&&"undefined"!=typeof n[OPTION_EXP_DEFAULT]&&null!=n[OPTION_EXP_DEFAULT];var o=[];if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)){t=escapeClientVariationSet(t);var a;if(null!=n&&"undefined"!=typeof n[OPTION_VARIATION_SET_ID]&&null!=n[OPTION_VARIATION_SET_ID]&&0!=n[OPTION_VARIATION_SET_ID].length){var s=""+n[OPTION_VARIATION_SET_ID];a=s}else a=generateHash(t);var u=DYO.Props.expContVersionData(experiments[e],a);o=i?null:getDynamicVariations(e,u),(null==o||o.length!=r&&!isInPresetVarsCG(e))&&(o=calculateMultipleContVariation(e,t,a,r)),varRimpSelectedVariations(e,o)}else log("non existing experiment");return o}function forceChooseDynamicVariation(e,t,r){return r=setForceCalculationOption(r),chooseDynamicVariation(e,t,r)}function chooseDynamicVariation(e,t,r){var n=chooseMultipleDynamicVariations(e,t,1,r);return null!=n&&n.length>0?n[0]:null}function reportExperimentEvent(e){try{"number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)&&DY.API("experiment",{name:experiments[e].name})}catch(t){}}function setAndPublishContext(e){"undefined"!=typeof e&&null!==e&&(DY.recommendationContext=e,DY.API("context",e))}function getServerVariations(e){return"number"!=typeof e&&(e=expNameToId(e)),experiments[e].variations}function getDynamicVariations(e,t){var r=null,n=null,i=experimentTree[e];if(null!=i){var o=i.split(DYO.ExpUtils.dataSep),a=o[1],s=a.split(DYO.ExpUtils.verSep),u=o[4],c=u.split(DYO.ExpUtils.verSep),d=t.split(DYO.ExpUtils.verSep);if(DYO.Props.isStoredVersionValidForChoose(experiments[e],s,d,c)){n=o[2],r=new Array;var l=new Array;if(n.length>0){n=n.split(DYO.ExpUtils.variSep);for(var p=0;p<n.length;p++){var f=n[p].split(DYO.ExpUtils.verSep);f.length>0&&f[0].length>0&&(r[p]={id:DYJSON.parse(unescape(f[0])),name:"undefined"!=typeof f[1]?unescape(f[1]):""},l.push(r[p].id))}}var m=DYO.Props.generateSelectionDataPart(experiments[e]);if(o[4]=m,experimentTree[e]=o.join(DYO.ExpUtils.dataSep),storeExperiments(DYO.ExpUtils.storageKey,DYO.ExpUtils.cookieKey,experimentTree),DYO.Props.isAttributionStoredOnGet(experiments[e])){var g=DYO.Props.getCurrentAttributionProps(experiments[e]);DYO.ExpUtils.attributeVariationsExplicitly(DYO.ExpUtils.DECISION_EVENT,e,a,l,g)}}}return r}function getVariationData(e){var t=e,r=null;"number"!=typeof e&&(e=expNameToId(e));var n=experimentTree[e];if(null==n)return{code:0,exp:t,msg:"experiment "+e+" is not defined"};var i=n.split(DYO.ExpUtils.dataSep),o=i[2].split(DYO.ExpUtils.verSep);r=o[0];var a=o[1];if(r==DYO.ExpUtils.notInExp)return{code:0,exp:t,msg:"user not in experiment"};for(var s=0;s<experiments[e].variations.length;s++)if(experiments[e].variations[s].id==r)return 0==experiments[e].type&&(a=experiments[e].variations[s].name),{code:1,exp:t,value:experiments[e].variations[s]};return{code:0,exp:t,msg:"error getting variation data, check the experiment settings"}}function getVariationProperties(e){var t=e,r=null;"number"!=typeof e&&(e=expNameToId(e));var n=experimentTree[e];if(null==n)return{code:0,exp:t,msg:"experiment "+e+" is not defined"};var i=n.split(DYO.ExpUtils.dataSep),o=i[2].split(DYO.ExpUtils.verSep);r=o[0];var a=o[1];if(r==DYO.ExpUtils.notInExp)return{code:0,exp:t,msg:"user not in experiment"};for(var s=0;s<experiments[e].variations.length;s++)if(experiments[e].variations[s].id==r)return 0==experiments[e].type&&(a=experiments[e].variations[s].name),experiments[e].variations[s].props;return{code:0,exp:t,msg:"error getting variation data, check the experiment settings"}}function getCurrentVersionDataStr(e){try{if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)&&null!=experimentTree[e]){var t=experimentTree[e],r=t.split(DYO.ExpUtils.dataSep);if(null!=r&&r.length>1){var n=r[1];return n}}}catch(i){log("error in getCurrentVersionDataStr")}return null}function externalSetVariation(e,t){var r=e,n=t;if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)){if("number"!=typeof t&&(t=varNameToId(e,t)),null==t)return{code:0,exp:r,variation:n,msg:"Variation is not defined"};var i=DYO.Props.expManualSetVersionData(experiments[e]);return setVariation(e,i,t),{code:1,exp:r,variation:n,msg:"variation "+t+" is set for experiment "+e}}return{code:0,exp:r,variation:n,msg:"experiment "+e+" is not defined"}}function externalSetVariationByPosition(e,t){var r=e;if("number"!=typeof e&&(e=expNameToId(e)),experimentExists(e)){var n=new Array;if("undefined"==typeof experiments[e].variations[t])return{code:0,exp:r,pos:t,msg:"no variation in position "+t};n[0]=experiments[e].variations[t].id;var i=DYO.Props.expManualSetVersionData(experiments[e]);return setVariations(e,i,n),{code:1,exp:r,pos:t,msg:"variation at position "+t+"is set for experiment "+e}}return{code:0,exp:r,pos:t,msg:"experiment "+e+" is not defined"}}function setVariation(e,t,r){var n=new Array;n[0]=r,setVariations(e,t,n)}function setVariations(e,t,r){if(!experimentExists(e))return void log("ignoring non-existent experiment");var n=DYO.Props.expCompleteVersionData(experiments[e],t),i=DYO.Props.getAttributionMethodForGet(experiments[e]),o=DYO.Props.generateSelectionDataPart(experiments[e]);if(experimentTree[e]=e+DYO.ExpUtils.dataSep+n+DYO.ExpUtils.dataSep+r.toString()+DYO.ExpUtils.dataSep+i+DYO.ExpUtils.dataSep+o,storeExperiments(DYO.ExpUtils.storageKey,DYO.ExpUtils.cookieKey,experimentTree),DYO.Props.isAttributionStoredOnGet(experiments[e])){var a=DYO.Props.getCurrentAttributionProps(experiments[e]);DYO.ExpUtils.attributeVariationsExplicitly(DYO.ExpUtils.DECISION_EVENT,e,n,r,a)}}function varRimpSelectedVariations(e,t){if(experimentExists(e)&&null!=t&&DYO.Props.isVarRimpOnGet(experiments[e])&&t.length>0){for(var r=[],n=0;n<t.length;++n)null!=t[n]&&null!=t[n].id&&r.push(t[n].id);var i=getCurrentVersionDataStr(e),o=DYO.Props.getCurrentAttributionProps(e),a=function(){"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("ri",e,r,o,i)};window.DY.API("callback",a)}}function varCVariations(e,t){if(experimentExists(e)&&null!=t&&t.length>0){for(var r=[],n=0;n<t.length;++n)null!=t[n]&&null!=t[n].id&&r.push(t[n].id);var i=getCurrentVersionDataStr(e),o=DYO.Props.getCurrentAttributionProps(e),a=function(){"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("c",e,r,o,i)};window.DY.API("callback",a)}}function executeVariation(expId,variationId){var e=expId,v=variationId,jsExec=!1,htmlExec=!1;if("number"!=typeof expId&&(expId=expNameToId(expId)),experimentExists(expId)){if("number"!=typeof variationId&&(variationId=varNameToId(expId,variationId)),null==variationId)return{code:0,exp:e,variation:v,msg:"Variation is not defined"};for(var i=0;i<experiments[expId].variations.length;i++)if(experiments[expId].variations[i].id==variationId){var execScript=experiments[expId].variations[i].script,htmlInsert=experiments[expId].variations[i].html,htmlInsertPos=experiments[expId].variations[i].htmlPos;if("undefined"!=typeof execScript&&""!=execScript){try{eval("(function(){"+execScript+"})();")}catch(e){}jsExec=!0}if("undefined"!=typeof htmlInsert&&""!=htmlInsert&&""!=htmlInsertPos){var div=document.createElement("div");div.innerHTML=htmlInsert;var contDiv=document.getElementById(htmlInsertPos);contDiv&&(contDiv.insertBefore(div,contDiv.firstChild),htmlExec=!0)}}return{code:1,exp:e,variation:v,msg:"executed "+(jsExec&&htmlExec?"javascript and html insertion":jsExec?"javascript":htmlExec?"html insertion":"nothing")+" for variation "+variationId+" in experiment "+expId}}return{code:0,exp:e,variation:v,msg:"experiment "+expId+" is not defined"}}function makeSmartImage(e,t){function r(){"undefined"!=typeof $dy&&"undefined"!=typeof $dy(window)&&"undefined"!=typeof DY&&"undefined"!=typeof DY.AdDetection?DY.AdDetection.markExpUnit(u,n,s.id,!1,!1,m):setTimeout(r,100)}try{var n=e;"number"!=typeof n&&(n=parseInt(expNameToId(n)));var i=chooseVariation(n,null);if(!experimentExists(n))return{code:0,exp:n,msg:"experiment "+n+" is not defined"};var o=experiments[n].elementWidth;("undefined"==typeof o||null==o)&&(o=0);var a=experiments[n].elementHeight;("undefined"==typeof a||null==a)&&(a=0);var s=experiments[n].variations[i];if("undefined"==typeof s||"undefined"==typeof s.props||"undefined"==typeof s.props.image_url)return{code:0,exp:n,v:s.id,msg:"experiment "+n+" has no image variation "+s.id};var u=document.createElement("div");u.className="dy_unit dy_image_"+n;var c='<img src="'+s.props.image_url+'" width="'+o+'" height="'+a+'" style="border:none;" />';"undefined"!=typeof s.props.image_click_url&&null!=s.props.image_click_url&&""!=s.props.image_click_url&&(c='<a href="'+s.props.image_click_url+'" target="'+(s.props.image_click_url_target||"_top")+'">'+c+"</a>"),u.innerHTML=c;var d=!0;if("undefined"!=typeof t&&""!=t){var l=document.getElementById(t);"undefined"!=typeof l&&null!=l&&(l.appendChild(u),d=!1)}if(d){var p=document.getElementsByTagName("script"),f=p[p.length-1];f.parentElement.appendChild(u)}var m=getCurrentVersionDataStr(n);return r(),{code:1,exp:n,msg:"executing make smart image on experiment "+n}}catch(g){return{code:0,exp:e,msg:"error while executing make smart image on experiment "+e}}}function makeSmartSlider(e,t){function r(){"undefined"!=typeof DY&&"undefined"!=typeof DY.AdDetection&&"undefined"!=typeof $dy&&"undefined"!=typeof $dy(window)&&"undefined"!=typeof $dy.renderSmartCarousel?$dy.renderSmartCarousel(d,{expId:n,width:i,height:o,scrollSpeed:a,versionDataStr:c},u):setTimeout(r,100)}try{var n=e;if("number"!=typeof n&&(n=parseInt(expNameToId(n))),!experimentExists(n))return{code:0,exp:n,msg:"experiment "+n+"is not defined"};var i=experiments[n].elementWidth;("undefined"==typeof i||null==i)&&(i=0);var o=experiments[n].elementHeight;("undefined"==typeof o||null==o)&&(o=0);var a=experiments[n].autoScrollSpeed;("undefined"==typeof a||null==a)&&(a=0);var s=experiments[n].slideCount;("undefined"==typeof s||null==s||0==s)&&(s=experiments[n].variations.length);var u=chooseMultipleVariations(n,s,null),c=getCurrentVersionDataStr(n),d=document.createElement("div");d.setAttribute("style","position:relative;max-width:"+i+"px;max-height:"+o+"px;"),d.className="dy_unit dy_slider_"+n;var l=!0;if("undefined"!=typeof t&&""!=t){var p=document.getElementById(t);"undefined"!=typeof p&&null!=p&&(p.appendChild(d),l=!1)}if(l){var f=document.getElementsByTagName("script"),m=f[f.length-1];m.parentElement.appendChild(d)}for(var g=0;g<u.length;g++){for(var h=null,v=0;v<experiments[n].variations.length;v++)if(u[g].id==experiments[n].variations[v].id){h=experiments[n].variations[v].props;break}if("undefined"!=typeof h&&null!=h&&"undefined"!=typeof h.image_url){("undefined"==typeof h.image_click_url||null==h.image_click_url||""==h.image_click_url)&&(h.image_click_url="#");var D=u[g].id;u[g]=h,u[g].id=D}}return r(),{code:1,exp:n,msg:"executing make smart slider on experiment "+n}}catch(O){return{code:0,exp:e,msg:"error while executing make smart slider on experiment "+e}}}function reportVariationImpression(e,t){try{var r={type:DYO.Enums.ENUMS.REPORT_API.TYPES.IMPRESSION,expId:e,variationIds:t,attributionProps:DYO.Props.getCurrentAttributionProps(e),versionDataStr:DYO.getCurrentVersionDataStr(e)};window.DY.API("report",r)}catch(n){DY.API("internal_error",{name:"reportVariationImpression error",error:n})}}function makeSmartContainer(expName,insertionId,asPureHTML){function waitForDy(){"undefined"!=typeof $dy&&"undefined"!=typeof $dy(window)&&"undefined"!=typeof DY&&"undefined"!=typeof DY.AdDetection?DY.AdDetection.markExpUnit(cont,expId,varElem.id,!1,!1,versionDataStr):setTimeout(waitForDy,100)}try{var expId=expName;"number"!=typeof expId&&(expId=parseInt(expNameToId(expId))),asPureHTML!==!0&&(asPureHTML=!1);var varPos=chooseVariation(expId,null);if(!experimentExists(expId))return{code:0,exp:expId,msg:"experiment "+expId+" is not defined"};var width=experiments[expId].elementWidth;("undefined"==typeof width||null==width)&&(width=0);var height=experiments[expId].elementHeight;("undefined"==typeof height||null==height)&&(height=0);var varElem=experiments[expId].variations[varPos];if("undefined"==typeof varElem||"undefined"==typeof varElem.props||"undefined"==typeof varElem.props.html_code)return{code:0,exp:expId,v:varElem.id,msg:"experiment "+expId+" has no container variation "+varElem.id};var cont,source=null;if(asPureHTML)cont=document.createElement("div"),cont.className="dy_unit dy_container_"+expId,cont.innerHTML="<style type='text/css'>"+decodeURIComponent(varElem.props.css_code)+"</style>"+decodeURIComponent(varElem.props.html_code);else{cont=document.createElement("iframe"),cont.className="dy_unit dy_container_"+expId,cont.setAttribute("scrolling","no"),cont.setAttribute("style","overflow:hidden;background-color:#ffffff;border:0;width:"+width+"px;height:"+height+"px;"),cont.setAttribute("width",width),cont.setAttribute("height",height);var bodyStyle="margin:0;position: absolute;";bodyStyle+="width:"+width+"px;",bodyStyle+="height:"+height+"px;",source='<!DOCTYPE html><html><head><style type="text/css">',source+=decodeURIComponent(varElem.props.css_code),source+='</style></head><body style="'+bodyStyle+'">',source+=decodeURIComponent(varElem.props.html_code),source+='<script type="text/javascript">',source+=decodeURIComponent(varElem.props.js_code),source+="</script></body></html>"}var notAdded=!0;if("undefined"!=typeof insertionId&&""!=insertionId){var insertionPoint=document.getElementById(insertionId);"undefined"!=typeof insertionPoint&&null!=insertionPoint&&(insertionPoint.appendChild(cont),notAdded=!1)}if(notAdded){var arrScripts=document.getElementsByTagName("script"),currScript=arrScripts[arrScripts.length-1];currScript.parentElement.appendChild(cont)}asPureHTML?eval("try{(function(){"+decodeURIComponent(varElem.props.js_code)+"})();}catch(e){}"):null!=source&&(cont.contentWindow.document.open(),cont.contentWindow.document.write(source),cont.contentWindow.document.close());var versionDataStr=getCurrentVersionDataStr(expId);return waitForDy(),{code:1,exp:expId,msg:"executing make smart image on experiment "+expId}}catch(exception){return{code:0,exp:expName,msg:"error while executing make smart image on experiment "+expName}}}function initiateClocksAndWaiter(){function e(e,t,r){function n(){i||(clearTimeout(o),i=!0,DYO.pubSub.pub("dy-dep-cond-done-"+t+"-"+e),DYO.waitersTimeouts[e]=!0)}var i=!1,o=setTimeout(function(){i=!0,DYO.pubSub.pub("dy-dep-cond-done-"+t+"-"+e),DYO.waitersTimeouts[e]=!0},r);DY.API("callback",n)}DYO.waitersTimeouts={};var t=3e3;for(var r in DYO.otags)if(DYO.otags.hasOwnProperty(r)){var n=DYO.otags[r].waitForServerToReply||0;t=isNaN(DYO.otags[r].ttw)?t:Math.max(t,DYO.otags[r].ttw),"undefined"==typeof DYO.otags[r].ttw&&(DYO.otags[r].ttw=n),e(r,"smartTag",DYO.otags[r].ttw)}t=t>4e3?4e3:t,setTimeout(function(){DYO.pubSub.pub("dy-dep-cond-max-timeouts"),DYO.waitersTimeouts._dy_max_timeout=!0},t)}function executeContextGetterEvaluator(){try{if("undefined"!=typeof DYO.contextGetterOccurred)return;if(DYO.contextGetterOccurred=1,!DYO.oevals)return;for(var e=null,t=Object.keys(DYO.oevals),r=0;r<t.length;r++)if(DYO.oevals[t[r]].hasOwnProperty("type")&&"context"===DYO.oevals[t[r]].type){e=DYO.oevals[t[r]];break}e&&e.code&&DYO.CoreUtils.safeEval(e.code)}catch(n){DY.API("internal_error",{name:"executeContextGetterEvaluator() error",error:n})}}function setupServerExperiments(){if(debug&&log("DYO setupServerExperiments"),"undefined"!=typeof DYExps&&"undefined"!=typeof DYExps.oexps){debug&&log("actually using DYExps in DYO"),DYO.section=DYExps.section,DYO.oexps=experiments=DYExps.oexps,DYO.otags=smartTags=DYExps.otags,DYO.oevals=DYExps.oevals,DYO.cookieManagedExperiments=cookieManagedExperiments=DYExps.cookieManagedExperiments,DYO.dynamicVariablesV0=DYExps.dynamicVariablesV0,DYO.smartVariableExperimentsMapV1=DYExps.smartVariableExperimentsMapV1,DYO.smartVariableExperimentsV1=DYExps.smartVariableExperimentsV1,DYO.rcom=rcom=DYExps.rcom,DYO.translations=translations=DYExps.translations,DYO.ready=!0;var e=18e5;"undefined"!=typeof DYExps.expSesMs&&DYO.StringUtils.isN(DYExps.expSesMs)&&(e=DYExps.expSesMs),DYO.Seqs.loadSequences(e),initiateClocksAndWaiter(),DYO.CoreUtils.addToCommonStyleBlock(".dy-wysiwyg{line-height:normal;direction:ltr;align-text:left;margin:0;padding:0;background-color:transparent}.dy-wysiwyg a{text-decoration:none;color:#00E}.dy-lb-close{position:absolute;top:-12px;right:-11px;cursor:pointer;color:#fff;border:1px solid #918686;border-radius:30px;display:inline-block;height:22px;width:22px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTUgNTUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDU1IDU1IiB4bWw6c3BhY2U9InByZXNlcnZlIj48ZyBpZD0iY2xvc2UiPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iNDMuNSwxNC43IDQwLjMsMTEuNSAyNy41LDI0LjMgMTQuNywxMS41IDExLjUsMTQuNyAyNC4zLDI3LjUgMTEuNSw0MC4zIDE0LjcsNDMuNSAyNy41LDMwLjcgNDAuMyw0My41IDQzLjUsNDAuMyAzMC43LDI3LjUgIi8+PC9nPjwvc3ZnPg==) #575757;background-size:22px}"),executeContextGetterEvaluator(),cleanupExperiments(),DYO.exps=experimentTree,("undefined"==typeof window.DY.ssae||!window.DY.ssae||DYO.isMobile)&&"undefined"!=typeof DYO.executeSmartActions&&(window.DY.ssae=!0,DYO.executeSmartActions(!0))}}function enableCookies(){DYO.StorageUtils.forceCookies();var e=function(){"undefined"!=typeof window.DY&&"undefined"!=typeof window.DY.StorageUtils&&"undefined"!==window.DY.StorageUtils.forceCookies&&window.DY.StorageUtils.forceCookies()};window.DY.API("callback",e)}var experimentTree={},debug=!1,isMobile=!1,OPTION_VARIATION_SET_ID="variationSetId",OPTION_EXP_DEFAULT="expDefault",OPTION_FORCE_CALCULATION="isForceCalculation",experiments={},smartTags={},cookieManagedExperiments=[],rcom={},translations={};isMobile&&"undefined"==typeof setTimeout&&(setTimeout=function(e){e()});var hashCode=function(e){var t=0;if(0==e.length)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),t=(t<<5)-t+n;t&=t}return t},log=function(){};return{chooseVariation:chooseVariation,forceChooseVariation:forceChooseVariation,chooseMultipleVariations:chooseMultipleVariations,forceChooseMultipleVariations:forceChooseMultipleVariations,OPTION_EXP_DEFAULT:OPTION_EXP_DEFAULT,OPTION_VARIATION_SET_ID:OPTION_VARIATION_SET_ID,OPTION_FORCE_CALCULATION:OPTION_FORCE_CALCULATION,chooseDynamicVariation:chooseDynamicVariation,forceChooseDynamicVariation:forceChooseDynamicVariation,chooseMultipleDynamicVariation:chooseMultipleDynamicVariations,chooseMultipleDynamicVariations:chooseMultipleDynamicVariations,forceChooseMultipleDynamicVariations:forceChooseMultipleDynamicVariations,getDynamicVariations:getDynamicVariations,getServerVariations:getServerVariations,setVariation:externalSetVariation,setVariationByPosition:externalSetVariationByPosition,setVariations:setVariations,getVariationData:getVariationData,getVariationProperties:getVariationProperties,getCurrentVersionDataStr:getCurrentVersionDataStr,reportVariationImpression:reportVariationImpression,reportExperimentEvent:reportExperimentEvent,storeAttributeVariations:emptyMethod,exps:experimentTree,execute:executeVariation,oexps:experiments,otags:smartTags,rcom:rcom,varNameToId:varNameToId,expNameToId:expNameToId,sd:setDebug,d:debug,log:log,smartImage:makeSmartImage,smartSlider:makeSmartSlider,smartContainer:makeSmartContainer,setupServerExperiments:setupServerExperiments,enableCookies:enableCookies,setAndPublishContext:setAndPublishContext,ready:!1,refreshExperiments:refreshExperiments,isMobile:isMobile,version:12197,removeFromVariationsIgnoreList:emptyMethod,cleanupExperiments:cleanupExperiments,generateHash:generateHash}}(),"undefined"==typeof Object.keys&&(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),DYO.CoreUtils=function(){function safeEval(code){try{return eval(code)}catch(e){return null}}function addWindowEventListener(e,t){var r=window.addEventListener?"addEventListener":"attachEvent";window[r](e,t)}function getStringSizeInBytes(e){for(var t=e.length,r=e.length-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&2047>=n?t++:n>2047&&65535>=n&&(t+=2),n>=56320&&57343>=n&&r--}return t}function insertElement(e,t){var r,n=!0;if("undefined"!=typeof t&&""!==t&&(r=document.getElementById(t),"undefined"!=typeof r&&null!==r&&(n=!1)),n){var i=document.getElementsByTagName("script"),o=i[i.length-1];r=o.parentElement}n||(r.innerHTML=""),r.appendChild(e)}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function addToCommonStyleBlock(e){if("undefined"!=typeof document&&"undefined"!=typeof document.getElementsByClassName){var t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.className+=" dy-common-style","string"==typeof e&&t&&r&&(r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),t.appendChild(r))}}return{safeEval:safeEval,isEmpty:isEmpty,addWindowEventListener:addWindowEventListener,getStringSizeInBytes:getStringSizeInBytes,insertElement:insertElement,addToCommonStyleBlock:addToCommonStyleBlock}}(),DYO.Enums=function(){function e(e){return t(n,e)}function t(e,n){if("object"==typeof e){var i=r(e);if("undefined"!=typeof i[n])return i[n];for(var o in e)if(e.hasOwnProperty(o)){var a=t(e[o],n);if(a)return a}return null}}function r(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}var n={REPORT_API:{TYPES:{IMPRESSION:1}}};return{ENUMS:n,getEnumNameByValue:e}}(),DYO.ExpUtils=function(){function e(e){var t=DYO.cookieManagedExperiments;if("object"!=typeof t||"undefined"==typeof t.length||0===t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1}function t(t,i,o,a,s){try{if("undefined"!=typeof o&&null!=o&&o.length>0&&"undefined"!=typeof s&&null!=s&&"undefined"!=typeof s.method){if(s.method==I&&t!==C)return;if(s.method==b&&t!==P)return;if(s.method==_&&t!==A)return;if(s.method==E&&t!==T)return;var u,c=e(i);u=c?DYO.StorageUtils.get(O,["cookieStorage","localStorage"]):DYO.StorageUtils.get(v,["localStorage","cookieStorage"]);var d=new Array;"undefined"!=typeof u&&""!=u&&null!=u&&(d=u.split(y));for(var l=!1,p=0;p<d.length;p++){var f=d[p].split(Y);if(i==f[0]){if(s.method==b&&o==f[1]){var m=f[2].split(S),g=r(m.concat(a));d[p]=n(i,o,g,s)}else d[p]=n(i,o,a,s);l=!0;break}}l||(d.push(n(i,o,a,s)),l=!0),c?DYO.StorageUtils.set(O,d.join(y),["cookieStorage","localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain()}):DYO.StorageUtils.set(v,d.join(y),["localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain()})}}catch(h){}}function r(e){for(var t=e.concat(),r=0;r<t.length;++r)for(var n=r+1;n<t.length;++n)t[r]===t[n]&&t.splice(n--,1);return t}function n(e,t,r,n){var o=i(n),a=e+Y+t+Y+r.join(S)+Y+d+Y+o;return a}function i(e){var t=(new Date).getTime(),r=e.sesLoadSeq;e.sesLoadSeq===DYO.SessionUtils.NEXT&&DYO.SessionUtils.getNewSessionId()!==DYO.SessionUtils.NEXT&&null!=DYO.SessionUtils.getNewSessionId()&&(r=DYO.SessionUtils.getNewSessionId());var n=""+r+w+t;return n}function o(e,t){var r="",n="undefined"!=typeof e&&""!==e&&null!==e,i="undefined"!=typeof t&&""!==t&&null!==t;if(!n&&!i)return r;if(!n)return t;if(!i)return e;try{for(var o=e.split(DYO.ExpUtils.expSep),a=t.split(DYO.ExpUtils.expSep),s={},u=0;u<a.length;++u){var c=a[u].split(DYO.ExpUtils.dataSep);s[c[0]]=a[u]}for(var u=0;u<o.length;++u){var c=o[u].split(DYO.ExpUtils.dataSep);s[c[0]]=o[u]}for(var d in s)s.hasOwnProperty(d)&&(r=""!==r?r+DYO.ExpUtils.expSep+s[d]:s[d])}catch(l){r=e+DYO.ExpUtils.expSep+t}return r}function a(e){try{if("undefined"==typeof DYO)return!1;var t=["Smart_Object_For_Placement","Smart_Action_For_Placement","_dy_collection_inject"];if(!s){s=[];for(var r in DYO.otags)if(DYO.otags.hasOwnProperty(r))for(var n=0;n<t.length;n++)0===DYO.otags[r].name.indexOf(t[n])&&s.push(r)}if(s.length){for(var i=!1,n=0;n<s.length;n++)"undefined"!=typeof DYO.otags[s[n]].rules&&"undefined"!=typeof DYO.otags[s[n]].rules[0]&&"undefined"!=typeof DYO.otags[s[n]].rules[0].smartObject&&"undefined"!=typeof DYO.otags[s[n]].rules[0].smartObject.experiment&&DYO.otags[s[n]].rules[0].smartObject.experiment===e&&(i=!0);return i}return!1}catch(o){return!1}}var s,u="0",c="1",d="2",l="0",p="1",f="2",m="3",g="4",h="_dyexps",v="_dy_att_exps",D="_dy_c_exps",O="_dy_c_att_exps",y="##",Y="|",w=":",S=",",x="-1",I="0",b="1",_="2",E="3",C="get",P="ri",A="c",T="cust";return{expSep:y,dataSep:Y,verSep:w,variSep:S,notInExp:x,storageKey:h,storageAttKey:v,cookieKey:D,cookieAttKey:O,SELECTION_AND_ATTRIBUTION:u,SELECTION:c,ATTRIBUTION:d,SUB_MECHANISM_NA:l,SUB_MECHANISM_CG_WITH_PREDICT:p,SUB_MECHANISM_CG_WITHOUT_PREDICT:f,SUB_MECHANISM_REWEIGHT_EXPLORE:m,SUB_MECHANISM_REWEIGHT_KICK_IN:g,IMPLICIT_ATTRIBUTION:I,ATTRIBUTION_AFTER_RI:b,ATTRIBUTION_AFTER_C:_,EXPLICIT_ATTRIBUTION:E,DECISION_EVENT:C,IMPRESSION_EVENT:P,CONVERSION_EVENT:A,attributeVariationsExplicitly:t,isExpCookieManaged:e,isInternalAction:a,merge:o}}(),function(e){"use strict";var t=function(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r};t.isLong=function(e){return(e&&e instanceof t)===!0};var r={},n={};t.fromInt=function(e,i){var o,a;return i?(e>>>=0,e>=0&&256>e&&(a=n[e])?a:(o=new t(e,0>(0|e)?-1:0,!0),e>=0&&256>e&&(n[e]=o),o)):(e=0|e,e>=-128&&128>e&&(a=r[e])?a:(o=new t(e,0>e?-1:0,!1),e>=-128&&128>e&&(r[e]=o),o))},t.fromNumber=function(e,r){return r=!!r,isNaN(e)||!isFinite(e)?t.ZERO:!r&&-u>=e?t.MIN_VALUE:!r&&e+1>=u?t.MAX_VALUE:r&&e>=s?t.MAX_UNSIGNED_VALUE:0>e?t.fromNumber(-e,r).negate():new t(e%a|0,e/a|0,r)},t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromString=function(e,r,n){if(0===e.length)throw Error("number format error: empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t.ZERO;if("number"==typeof r&&(n=r,r=!1),n=n||10,2>n||n>36)throw Error("radix out of range: "+n);var i;if((i=e.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+e);if(0===i)return t.fromString(e.substring(1),r,n).negate();for(var o=t.fromNumber(Math.pow(n,8)),a=t.ZERO,s=0;s<e.length;s+=8){var u=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+u),n);if(8>u){var d=t.fromNumber(Math.pow(n,u));a=a.multiply(d).add(t.fromNumber(c))}else a=a.multiply(o),a=a.add(t.fromNumber(c))}return a.unsigned=r,a},t.fromValue=function(e){return"number"==typeof e?t.fromNumber(e):"string"==typeof e?t.fromString(e):t.isLong(e)?e:new t(e.low,e.high,e.unsigned)};var i=65536,o=1<<24,a=i*i,s=a*a,u=s/2,c=t.fromInt(o);t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*a+(this.low>>>0):this.high*a+(this.low>>>0)},t.prototype.toString=function(e){if(e=e||10,2>e||e>36)throw new RangeError("radix out of range: "+e);if(this.isZero())return"0";var r;if(this.isNegative()){if(this.equals(t.MIN_VALUE)){var n=t.fromNumber(e),i=this.div(n);return r=i.multiply(n).subtract(this),i.toString(e)+r.toInt().toString(e)}return"-"+this.negate().toString(e)}var o=t.fromNumber(Math.pow(e,6),this.unsigned);r=this;for(var a="";;){var s=r.div(o),u=r.subtract(s.multiply(o)).toInt()>>>0,c=u.toString(e);if(r=s,r.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,r=31;r>0&&0==(e&1<<r);r--);return 0!=this.high?r+33:r+1},t.prototype.isZero=function(){return 0===this.high&&0===this.low},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isOdd=function(){return 1===(1&this.low)},t.prototype.isEven=function(){return 0===(1&this.low)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.notEquals=function(e){return t.isLong(e)||(e=t.fromValue(e)),!this.equals(e)},t.prototype.lessThan=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.compare(e)<0},t.prototype.lessThanOrEqual=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.compare(e)<=0},t.prototype.greaterThan=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.compare(e)>0},t.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.subtract(e).isNegative()?-1:1},t.prototype.negate=function(){return!this.unsigned&&this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=65535&e.low,d=0,l=0,p=0,f=0;return f+=o+c,p+=f>>>16,f&=65535,p+=i+u,l+=p>>>16,p&=65535,l+=n+s,d+=l>>>16,l&=65535,d+=r+a,d&=65535,t.fromBits(p<<16|f,d<<16|l,this.unsigned)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.negate())},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.equals(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(c)&&e.lessThan(c))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,d=65535&e.low,l=0,p=0,f=0,m=0;return m+=o*d,f+=m>>>16,m&=65535,f+=i*d,p+=f>>>16,f&=65535,f+=o*u,p+=f>>>16,f&=65535,p+=n*d,l+=p>>>16,p&=65535,p+=i*u,l+=p>>>16,p&=65535,p+=o*s,l+=p>>>16,p&=65535,l+=r*d+n*u+i*s+o*a,l&=65535,t.fromBits(f<<16|m,l<<16|p,this.unsigned)},t.prototype.div=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var r,n,i;if(this.equals(t.MIN_VALUE)){if(e.equals(t.ONE)||e.equals(t.NEG_ONE))return t.MIN_VALUE;if(e.equals(t.MIN_VALUE))return t.ONE;var o=this.shiftRight(1);return r=o.div(e).shiftLeft(1),r.equals(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(n=this.subtract(e.multiply(r)),i=r.add(n.div(e)))}if(e.equals(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(i=t.ZERO,n=this;n.greaterThanOrEqual(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),s=48>=a?1:Math.pow(2,a-48),u=t.fromNumber(r),c=u.multiply(e);c.isNegative()||c.greaterThan(n);)r-=s,u=t.fromNumber(r,this.unsigned),c=u.multiply(e);u.isZero()&&(u=t.ONE),i=i.add(u),n=n.subtract(c)}return i},t.prototype.modulo=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.subtract(this.div(e).multiply(e))},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,0===e)return this;var r=this.high;if(32>e){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}return 32===e?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.toSigned=function(){return this.unsigned?new t(this.low,this.high,!1):this},t.prototype.toUnsigned=function(){return this.unsigned?this:new t(this.low,this.high,!0)},e.Long=t}(DYO),DYO.Predict=function(){function e(e,t){return e+d+t}function t(t,r,n){var i=e(r,n);if("undefined"!=typeof t&&null!=t){if(t.hasOwnProperty(i)){var o=t[i];return o}return f}return p}function r(){var t={};if("undefined"!=typeof DY.prd&&null!=DY.prd){for(var r=0;r<DY.prd.length;r++){var n=DY.prd[r],i=e(n.expId,n.verId);t[i]=n.vars}return t}}function n(){var t={};if("undefined"!=typeof DY.prd&&null!=DY.prd){for(var r=0;r<DY.prd.length;r++){var n=DY.prd[r],i=e(n.expId,n.verId),o=m(n.vars,n.smech);t[i]=o}return t}}function i(e,r){var i=n(),o=t(i,e,r);return o==p?void 0:o==f?[]:o}function o(e,r){var n=window.DYO.StorageUtils.get(c,["localStorage","cookieStorage"]);if("undefined"!=typeof n&&null!=n&&""!=n){var i=window.DYO.StringUtils.pkv(n),o=t(i,e,r);if(o==p)return null;if(o==f){var a=m([],null);return a}var s=window.DYO.StringUtils.pkv(o),a=m(null,null);return"undefined"!=typeof s.varIdArr&&null!=s.varIdArr&&s.varIdArr.length>0&&(a.varIdArr=s.varIdArr.split(l)),"undefined"!=typeof s.smechArr&&null!=s.smechArr&&s.smechArr.length>0&&(a.smechArr=s.smechArr.split(l)),a}return null}function a(){try{var e=n();if("undefined"!=typeof e&&null!=e){var t=window.DYO.StringUtils.skv(e);window.DYO.StorageUtils.set(c,t,["localStorage"])}else window.DYO.StorageUtils.remove(c,["localStorage"]);var i=r();if("undefined"!=typeof i&&null!=i){var o=window.DYO.StringUtils.skv(i);window.DYO.StorageUtils.set(u,o,["localStorage"])}else window.DYO.StorageUtils.remove(u,["localStorage"])}catch(a){}}function s(e,t){try{var r=i(e,t);return null==r?o(e,t):r}catch(n){}}var u="_dyprd",c="_dyprdobj",d="|",l=",",p="NP",f="NE",m=function(e,t){var r=new Object;return r.varIdArr="undefined"!=typeof e?e:null,r.smechArr="undefined"!=typeof t?t:null,r.toString=function(){return DYO.StringUtils.skv({varIdArr:this.varIdArr,smechArr:this.smechArr})},r};return{updatePredictStorage:a,getPrediction:s}}(),DYO.pubSub={},function(e){var t={},r=-1;e.sub=function(e,n){t[e]||(t[e]=[]);var i=(++r).toString();return t[e].push({token:i,func:n}),i},e.pub=function(e,r){return t[e]?(setTimeout(function(){for(var n=t[e],i=n?n.length:0;i--;)n[i].func.apply(null,r)},0),!0):!1},e.off=function(e){for(var r in t)if(t[r])for(var n=0,i=t[r].length;i>n;n++)if(t[r][n].token===e)return t[r].splice(n,1),e;return!1}}(DYO.pubSub),DYO.pubSub={},function(e){var t={},r=-1;e.sub=function(e,n){t[e]||(t[e]=[]);var i=(++r).toString();return t[e].push({token:i,func:n}),i},e.pub=function(e,r){return t[e]?(setTimeout(function(){for(var n=t[e],i=n?n.length:0;i--;)n[i].func.apply(null,r)},0),!0):!1},e.off=function(e){for(var r in t)if(t[r])for(var n=0,i=t[r].length;i>n;n++)if(t[r][n].token===e)return t[r].splice(n,1),e;return!1}}(DYO.pubSub),document.dyQuerySelectorAll||("function"==typeof document.querySelectorAll?document.dyQuerySelectorAll=function(){return document.querySelectorAll.apply(document,arguments)}:function(e,t){e=document,t=e.createStyleSheet(),e.dyQuerySelectorAll=function(r,n,i,o,a){for(a=e.all,n=[],r=r.replace(/\[for\b/gi,"[htmlFor").split(","),i=r.length;i--;){for(t.addRule(r[i],"k:v"),o=a.length;o--;)a[o].currentStyle.k&&n.push(a[o]);t.removeRule(0)}return n}}()),document.dyQuerySelector||(document.dyQuerySelector="function"==typeof document.querySelector?function(){return document.querySelector.apply(document,arguments)}:function(e){return document.dyQuerySelectorAll(e)[0]||null}),DYO.SessionUtils=function(){var e={},t=DYO;return e.NEW_SESSION_COOKIE="_dy_sess",e.NEW_SESSION_ENDTIME_COOKIE="_dy_sess_end",e.accurateNow=function(){var e=parseInt(t.StorageUtils.get("_dy_toffset",["cookieStorage","localStorage"])),r=(new Date).valueOf();return isNaN(e)||(r+=1e3*e),new Date(r)},e.NEXT="next",e.isKnownToBeNewSessionSection=function(){return window.DY&&DY.session&&DY.isNewStyleSession||null!==t.StorageUtils.get(e.NEW_SESSION_COOKIE,["localStorage"])},e.getNewSessionId=function(){var r=window.DY&&DY.isNewStyleSession&&DY.session;return!r&&parseInt(t.StorageUtils.get(e.NEW_SESSION_ENDTIME_COOKIE,["localStorage"]))>e.accurateNow().valueOf()?r=t.StorageUtils.get(e.NEW_SESSION_COOKIE,["localStorage"]):r||(r=e.NEXT),r||null},e.onNewSession=function(e){var t=!1;DY.API("sub",{on:"dy-int-new-session",callback:function(){t||(t=!0,e(DY.session))}})},e}(),DYO.StorageUtils=function(e){function t(e,t){try{for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}catch(n){return!1}}function r(t){return t!==e&&null!==t}function n(){try{var e=document.domain.split(".");return e.length<=2||/^([0-9]+\.){3}[0-9]+$/.test(document.domain)?document.domain:/[-\w]+\.(?:[-\w]+\.xn--[-\w]+|[-\w]{3,}|[-\w]+\.[-\w]{2})$/i.exec(document.domain)[0]}catch(t){return document.domain}}function i(){return null==h&&(h="undefined"!=typeof DY&&"undefined"!=typeof DY.sst&&DY.sst?!1:!0),h}function o(e,n,i){if(!r(n))return null;"string"==typeof n&&(n=[n]),(d||!u("localStorage"))&&(t(n,"cookieStorage")||t(n,"memoryStorage")||n.push("cookieStorage"));for(var o=0;o<n.length;o++){var a=p[n[o]].getItem(e,i);if(r(a))return a}return null}function a(e,n,i,o){if(r(i)){"string"==typeof i&&(i=[i]),(d||!u("localStorage"))&&(t(i,"cookieStorage")||t(i,"memoryStorage")||i.push("cookieStorage"));for(var a=0;a<i.length;a++)p[i[a]].setItem(e,n,o)}}function s(e,n,i){if(!r(n))return null;"string"==typeof n&&(n=[n]),(d||!u("localStorage"))&&(t(n,"cookieStorage")||t(n,"memoryStorage")||n.push("cookieStorage"));for(var o=0;o<n.length;o++)p[n[o]].removeItem(e,i)}function u(e){return f[e]}function c(e){d=e}var d=!1,l=30,p={},f={},m=window._dy_memStore=window._dy_memStore||{},g=function(){function e(){}return{getItem:e,setItem:e,removeItem:e}}(),h=null;return p.localStorage=function(){if(!i())return f.localStorage=!1,g;try{return window.localStorage.setItem("dy_______test","1"),window.localStorage.getItem("dy_______test"),window.localStorage.removeItem("dy_______test"),f.localStorage=!0,window.localStorage}catch(e){return f.localStorage=!1,g}}(),p.sessionStorage=function(){if(!i())return f.sessionStorage=!1,g;try{return window.sessionStorage.setItem("dy_______test","1"),window.sessionStorage.getItem("dy_______test"),window.sessionStorage.removeItem("dy_______test"),f.sessionStorage=!0,window.sessionStorage}catch(e){return f.sessionStorage=!1,g}}(),p.memoryStorage=function(){function e(e){return m[e]}function t(e,t){m[e]=t}function r(e){delete m[e]}return f.memoryStorage=!0,{getItem:function(t){return e(t)},setItem:function(e,r){return t(e,r)},removeItem:function(e){return r(e)}}}(),p.cookieStorage=function(){function e(){try{var e=navigator.cookieEnabled?!0:!1;return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")?!0:!1),e}catch(t){return!1}}function t(e,t){var n=document.cookie.match(o(e));if(r(n)){if(!t)return n[1];try{return decodeURIComponent(n[1])}catch(i){return n[1]}}}function n(e,t,r,n,i){var o;if(r){var s=new Date;s.setDate(s.getDate()+r),o=s.toGMTString()}else o="0";document.cookie=a(e,t,o,n,i)}function i(e,n,i){r(t(e))&&(document.cookie=a(e,"","Thu, 01-Jan-1970 00:00:01 GMT",n,i))}if(!e())return f.cookieStorage=!1,g;f.cookieStorage=!0;var o=function(e){return new RegExp("(?:^|;)\\s?"+e+"=(.*?)(?:;|$)","i")},a=function(e,t,r,n,i){return e+"="+encodeURIComponent(t)+(r?";expires="+r:"")+(n?";path="+n:"")+(i?";domain="+i:";domain="+document.domain)};return{getItem:function(e,n){return n=n||{},r(n.unescape)||(n.unescape=!0),t(e,n.unescape)},setItem:function(e,t,r){r=r||{};var o=0===r.expire?0:r.expire||l,a=r.path||"/",s=r.domain||document.domain;try{r.domain&&r.domain!==document.domain&&i(e,a,document.domain)}catch(u){}return n(e,t,o,a,s)},removeItem:function(e,t){t=t||{};var r=t.path||"/",n=t.domain||document.domain;try{t.domain&&t.domain!==document.domain&&i(e,r,document.domain)}catch(o){}return i(e,r,n)}}}(),{get:o,set:a,remove:s,enabled:u,getSecondLevelDomain:n,forceCookies:c}}(),DYO.StringUtils=function(){function e(e){for(var t=e.split("."),r={},n=0;n<t.length;n++){var i=t[n].split("@");r[i[0]]="nu"==i[1]?null:i[1].replace(/\%1\%/g,"@").replace(/\%0\%/g,".")}return r}function t(e){var t=[];for(var r in e)t.push(r+"@"+(null==e[r]?"nu":e[r].toString().replace(/\./g,"%0%").replace(/\@/g,"%1%")));return t.join(".")}function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}function n(e,t){t||(t=location.href.toLowerCase()),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)","i"),n=r.exec(t);return null===n?null:n[1]}function i(e){return e.replace(/^(.+?:)?\/\//,"")}return{pkv:e,skv:t,isN:r,getUrlParam:n,removeHttp:i}}(),function(){function e(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function t(e,t){t.parentNode.insertBefore(e,t)}function r(){var e=1e6*Math.random()|0,t=Date.now();return"dyId"+e.toString(16)+t.toString(16)}function n(n){function i(i){clearTimeout(o);try{var a=i[0],s=document.createElement(f.type||"div");f["class"]&&(s.className=f["class"]),s.id=r(),"before"===l?t(s,a):"after"===l?e(s,a):(s=a,s.id||(s.id=r())),s.setAttribute("data-dy-embedded-object","true"),DYO.smartObject(n,{target:s.id,inline:!m})}catch(u){DY.API("internal_error",{name:"AutoEmbedTag",error:u})}}var o,a=DYO.otags[n],s=a.embedOptions,u=s.selector,c=s.repeats||100,d=s.delay||50,l=s.replaceOption,p=1,f=s.container||{type:"div","class":"dy-auto-embedded-object"},m=s.inIframe||!1;DYO.waitForElement(u,i,p,d,c),-1!==c&&(o=setTimeout(function(){DY.API("internal_error",{name:"Auto Embed Place not found for tag "+n,clientOnly:!0})},c*d+100))}function i(e){try{var t=window.location&&window.location.search||"",r=new RegExp("[?&]_dy_skip_embed="+e+"(&|$|#)","i");if(r.test(t))return!0}catch(n){return!1}return!1}DYO.autoEmbedSmarts=function(e){try{e=e||{};for(var t in DYO.otags)if(DYO.otags.hasOwnProperty(t)){var r=DYO.otags[t];if("tag"===r.subType){var o=r.embedOptions;!i(t)&&o&&o.enabled&&DYO.isInAudience({rule:o.conditions,session:!0})&&n(t,e)}}}catch(a){DY.API("internal_error",{name:"AutoEmbedCycleError",error:a})}}}();var DYO=DYO||{};DYO.Chooser=function(){function e(e,t){for(var r=s(e),n=[],i=Object.keys(e).length,o=0;t>o&&i>o;o++)n.push(u(r));return n}function t(e,t,r){this.value=e.slice(0),this.weight=t,this.id=r}function r(e,n,i,o,a,s){if(!(n.length-i<o)){if(!(o>0)){var u=new t(a,s,e.length);return void e.push(u)}for(var c=i;c<n.length+1-o;++c)a.push(n[c]),r(e,n,c+1,o-1,a,s*n[c].weight),a.pop(n[c])}}function n(e){var t=Math.floor(Math.random()*e.length),r={opt:e[t].id,loc:t};return r}function i(e,t){for(var r=[],i=0;t>i&&e.length>0;i++){var o=n(e);null!=o&&null!=o.loc&&(r.push(e[o.loc]),e.splice(o.loc,1))}return r}function o(e){for(var t=0,r=e[t].id,i=0,o=[],a=0;a<e.length;a++)o.push(e[a].weight+i),i+=e[a].weight;if(0>=i)return n(e);for(var s=Math.floor(Math.random()*i+1),a=0;a<o.length;a++)if(s<o[a]){r=e[a].id,t=a;break}return{opt:r,loc:t}}var a=function(e,t,r){var n=new Object;return n.value=e,n.weight=t,n.totalWeight=r,n},s=function(e){var t,r=[void 0];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n],t=null==i.weight?0:i.weight;r.push(a(i,t,t))}for(var o=r.length-1;o>1;o--)r[o>>1].totalWeight+=r[o].totalWeight;return r},u=function(e){for(var t=e[1].totalWeight*Math.random(),r=1;t>e[r].weight;)t-=e[r].weight,r<<=1,t>e[r].totalWeight&&(t-=e[r].totalWeight,r+=1);var n=e[r].weight,i=e[r].value;for(e[r].weight=0;0!==r;)e[r].totalWeight-=n,r>>=1;return i},c=function(t,n){var i=[4e4,4e4,256,64,32,24,20,18,18],a=n<t.length-n?n:t.length-n;if(a>=i.length||t.length>i[a])return e(t,n);var s=[],u=[];if(r(s,t,0,n,u,1),s.length>0){var c=o(s);if(c.loc>=0&&c.loc<s.length)return s[c.loc].value}return[]},d=function(t,r){for(var n=[],o=[],a=0;a<t.length;a++)null==t[a].weight||t[a].weight<=0?n.push(t[a]):o.push(t[a]);var s=[];if(n.length>0&&o.length<r){var u=r-o.length;s=i(n,u)}var d=r-s.length,l=c(o,d);return null==l?[]:(l=e(l,l.length),l.length<r&&s.length>0&&(l=l.concat(s)),l)};return{wRandomChoose:d,equalDecisions:i,weightedDecision:o,wRandomOrderedNoReplacement:e,wRandomOrderlessNoReplacement:c}}();var DYO=DYO||{};DYO.Props=function(){function e(e,t){return e.length>2&&t.length>2&&e[2]==t[2]||e.length>2&&e[2]==$||t.length>2&&t[2]==$}function t(e,t){return e.length>=5&&t.length>=5&&e[4]==t[4]}function r(e,t,r){return e.length>t.sessionIdx&&e[t.sessionIdx]==r}function n(e,t){return e.length>t.sessionIdx&&e.length>t.timestampIdx&&e[t.sessionIdx]===DYO.SessionUtils.NEXT&&DYO.StringUtils.isN(e[t.timestampIdx])&&parseFloat(e[t.timestampIdx])+1e3*X>=(new Date).getTime()}function i(e,t,i){return i!==DYO.SessionUtils.NEXT&&r(e,t,i)||i===DYO.SessionUtils.NEXT&&n(e,t)}function o(e,t){var r="undefined"!=typeof e.calcExpirationPeriodMs&&DYO.StringUtils.isN(e.calcExpirationPeriodMs)&&e.calcExpirationPeriodMs>=0;if(r){var n=(new Date).getTime();if(t.length<4||!DYO.StringUtils.isN(t[3])||parseFloat(t[3])+e.calcExpirationPeriodMs<n)return!1}return!0}function a(e,t){return e.version==t[0]}function s(e,t){return e.length>1&&t.length>1&&e[1]==t[1]}function u(e){var t="undefined"!=typeof e.isIgnoreReweightInc&&e.isIgnoreReweightInc;return t}function c(e){var t="undefined"!=typeof e&&null!=e&&"undefined"!=typeof e.stickiness&&e.stickiness==L;return t}function d(e,t,r,n){var i=e.version,o=(new Date).getTime(),a=i+DYO.ExpUtils.verSep+t+DYO.ExpUtils.verSep+r+DYO.ExpUtils.verSep+o+DYO.ExpUtils.verSep+DYO.Seqs.loadSeq+DYO.ExpUtils.verSep+DYO.Seqs.sesLoadSeq+DYO.ExpUtils.verSep+n+DYO.ExpUtils.verSep+p([DYO.ExpUtils.SUB_MECHANISM_NA]);return a}function l(e){var t=null==e?[]:e.split(DYO.ExpUtils.verSep);return t.length<7?null:t[6]}function p(e){var t="undefined"==typeof e||null==e?[]:e;return t.join(J)}function f(e){if("undefined"!=typeof e&&null!=e&&"undefined"==typeof e.attributionMethod&&"undefined"!=typeof e.isExplicitlyAttributed&&e.isExplicitlyAttributed)return DYO.ExpUtils.ATTRIBUTION_AFTER_C;var t="undefined"==typeof e||null==e||"undefined"==typeof e.attributionMethod||e.attributionMethod!=DYO.ExpUtils.ATTRIBUTION_AFTER_RI&&e.attributionMethod!=DYO.ExpUtils.ATTRIBUTION_AFTER_C&&e.attributionMethod!=DYO.ExpUtils.EXPLICIT_ATTRIBUTION?DYO.ExpUtils.IMPLICIT_ATTRIBUTION:e.attributionMethod;return t}function m(e){var t="undefined"!=typeof e.attributionTtlS&&DYO.StringUtils.isN(e.attributionTtlS)&&(e.attributionTtlS>=0||e.attributionTtlS==Z);return t}function g(e,t,r){try{return a(e,t)&&(o(e,t)||null!=r&&i(r,z,DYO.Seqs.sesLoadSeq))}catch(n){return!1}}function h(e,t,r){try{if(!a(e,t))return!1;if(!m(e))return!0;if(e.attributionTtlS==Z)return DYO.Seqs.sesLoadSeq===DYO.SessionUtils.NEXT?n(r,z,DYO.Seqs.sesLoadSeq)||r[0]===DYO.SessionUtils.NEXT:r[0]==DYO.Seqs.sesLoadSeq;var i=(new Date).getTime();return r.length<2||!DYO.StringUtils.isN(r[1])||parseFloat(r[1])+1e3*e.attributionTtlS<i?!1:!0}catch(o){return!1}}function v(e,t,r,n){try{return a(e,t)&&(o(e,t)||i(n,z,r[K.sessionIdx]))&&s(t,r)&&(!c(e)&&!w(e)||i(t,K,r[K.sessionIdx]))}catch(u){return!0}}function D(r,n,o,a){try{return v(r,n,o,a)&&(!c(r)||t(n,o))&&(u(r)||c(r)||w(r)||i(a,z,o[K.sessionIdx])||e(n,o))}catch(s){return!1}}function O(e){try{if(DYO.Seqs.sesLoadSeq!==DYO.SessionUtils.NEXT){if(e.length>1){var t=e[1].split(DYO.ExpUtils.verSep);n(t,K)&&(t[K.sessionIdx]=DYO.Seqs.sesLoadSeq,e[1]=t.join(DYO.ExpUtils.verSep))}if(e.length>4){var r=e[4].split(DYO.ExpUtils.verSep);n(r,z)&&(r[z.sessionIdx]=DYO.Seqs.sesLoadSeq,e[4]=r.join(DYO.ExpUtils.verSep))}}}catch(i){}return e}function y(e,t,r){if("undefined"==typeof e.controlGroup||null==e.controlGroup||"undefined"==typeof e.controlGroup.share||"undefined"==typeof e.controlGroup.method||!DYO.StringUtils.isN(e.controlGroup.share))return!1;var n=null==t||!v(e,t.split(DYO.ExpUtils.verSep),r.split(DYO.ExpUtils.verSep)),i=!1;if(n){var o=parseFloat(e.controlGroup.share);Math.floor(100*Math.random())<o&&(i=!0)}else i=Y(t);return i}function Y(e){return l(e)==F}function w(e){var t="undefined"!=typeof e&&null!=e&&"undefined"!=typeof e.stickiness&&e.stickiness==R;return t}function S(e){var t=f(e);return t==DYO.ExpUtils.ATTRIBUTION_AFTER_RI||t==DYO.ExpUtils.ATTRIBUTION_AFTER_C||t==DYO.ExpUtils.EXPLICIT_ATTRIBUTION}function x(e){var t="undefined"!=typeof e&&null!=e&&"undefined"!=typeof e.isVarRimpOnGet&&e.isVarRimpOnGet;return t}function I(e){return m(e)||S(e)?DYO.ExpUtils.SELECTION:DYO.ExpUtils.SELECTION_AND_ATTRIBUTION}function b(e){var t=f(e);return m(e)&&t==DYO.ExpUtils.IMPLICIT_ATTRIBUTION}function _(e){var t=f(e),r=DYO.Seqs.sesLoadSeq;return{method:t,sesLoadSeq:r}}function E(){var e=(new Date).getTime(),t=""+DYO.Seqs.sesLoadSeq+DYO.ExpUtils.verSep+e;return t}function C(e,t){return e.versionHash==t}function P(e){return null!=e&&"undefined"!=typeof e.weightMechanism?e.weightMechanism:DYO.Props.REWEIGHT_MECHANISM}function A(e){return null!=e&&"undefined"!=typeof e.weightSubMechanism?e.weightSubMechanism:null}function T(e,t,r){var n=e.split(DYO.ExpUtils.verSep);return n[6]=t,n[7]=p(r),n.join(DYO.ExpUtils.verSep)}function N(e){return d(e,j,null==e.reweightId?0:e.reweightId,q)}function U(e,t){return d(e,t,null==e.reweightId?0:e.reweightId,q)}function k(e){return d(e,j,$,q)}function M(e){return e.split(DYO.ExpUtils.verSep)[0]}function V(e,t){var r=null;if(null==t)r=k(e);else{"number"==typeof t&&(t=""+t);var n=t.split(DYO.ExpUtils.verSep);n.length<=1?(r=k(e),DYO.log("setting dont-care-weight due to version-data being without reweight-id data")):2==n.length?(r=U(e,n[1]),DYO.log("setting dont-care-weight due to version-data being without reweight-id data")):3==n.length?r=d(e,n[1],n[2],q):n.length<=7?(r=t,4==n.length&&(r=r+DYO.ExpUtils.verSep+DYO.Seqs.loadSeq),n.length<=5&&(r=r+DYO.ExpUtils.verSep+DYO.Seqs.sesLoadSeq),n.length<=6&&(r=r+DYO.ExpUtils.verSep+q),n.length<=7&&(r=r+DYO.ExpUtils.verSep+p([DYO.ExpUtils.SUB_MECHANISM_NA]))):r=t}return r}var j="",R="1",L="2",F="0",q="1",B="2",W="3",G="0",H="1",J=".",$="__dontcareweight",Z=-1,X=1800,K={sessionIdx:5,timestampIdx:3},z={sessionIdx:0,timestampIdx:1};return{DONT_CARE_WEIGHT:$,CONTROL_GROUP_MECHANISM:F,MANUAL_MECHANISM:q,REWEIGHT_MECHANISM:B,PREDICT_MECHANISM:W,isStoredVersionValidDuringCleanup:g,isStoredVersionValidForChoose:D,isStoredAttributionValidDuringCleanup:h,isExplicitlyAttributed:S,isVarRimpOnGet:x,getAttributionMethodForGet:I,verifyClientIdsOfServerAndClientSynced:C,expProgVersionData:N,expContVersionData:U,expManualSetVersionData:k,getVersionId:M,expCompleteVersionData:V,resetVersionDataMechanism:T,getMechanismRepresentingWeights:P,getSubMechanismRepresentingWeights:A,isControlGroupChoose:y,isCurrentlyInControlGroup:Y,isAttributionStoredOnGet:b,getCurrentAttributionProps:_,generateSelectionDataPart:E,correctFreshSessionPlaceholder:O,CGM_PRESET_VARS:G,CGM_RANDOM:H,subMechanismsArrToStr:p,getVersionDataMechanism:l,isSameReweight:e}}();var DYO=DYO||{};DYO.Seqs=function(){function e(e){try{n=1+Math.floor(99999*Math.random());var t=!1;try{if(DYO.SessionUtils.isKnownToBeNewSessionSection())if(DYO.StorageUtils.enabled("cookieStorage")){var s=DYO.StorageUtils.get(o,["cookieStorage"]);"undefined"==typeof s||null===s||""==s?(DYO.SessionUtils.getNewSessionId()!==DYO.SessionUtils.NEXT&&null!=DYO.SessionUtils.getNewSessionId()&&DYO.StorageUtils.set(o,DYO.SessionUtils.getNewSessionId(),["cookieStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain(),expire:a}),t=!1):DYO.SessionUtils.getNewSessionId()===DYO.SessionUtils.NEXT?t=!0:DYO.SessionUtils.getNewSessionId()==s?t=!1:(t=!0,DYO.StorageUtils.set(o,"x",["cookieStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain(),expire:a}))}else t=!0;else t=!1}catch(u){}if(t)i=null==DYO.SessionUtils.getNewSessionId()?0:DYO.SessionUtils.getNewSessionId();else{i=n;var c=DYO.StorageUtils.get(r,["cookieStorage","localStorage"]),d=(new Date).getTime();if(null!=c){var l=c.split(DYO.ExpUtils.verSep);l.length>=2&&DYO.StringUtils.isN(l[1])&&parseFloat(l[1])+e>=d&&(i=l[0])}DYO.StorageUtils.set(r,""+i+DYO.ExpUtils.verSep+d,["cookieStorage","localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain()})}}catch(p){DYO.log("error setting up load sequences")}finally{try{DYO.Seqs.loadSeq=n,DYO.Seqs.sesLoadSeq=i}catch(u){}}}function t(){return DYO.Seqs.sesLoadSeq===DYO.SessionUtils.NEXT&&null!=DYO.SessionUtils.getNewSessionId()?(DYO.Seqs.sesLoadSeq=DYO.SessionUtils.getNewSessionId(),!0):!1}var r="_dy_ses_load_seq",n=0,i=0,o="_dy_fnsmc_",a=60;return{loadSequences:e,loadAfterDy:t,loadSeq:n,sesLoadSeq:i}}(),DYO.setupServerExperiments(),DYO.ServeTagUtils=function(){function e(e){for(var e in DYO.otags)for(var t=DYO.otags[e],r=0;r<t.rules.length;r++)if(1!=t.rules[r].smartObject.objectType){var n=t.rules[r].smartObject.variations;for(var i in n)if(("image"==n[i].renderType||"flash"==n[i].renderType)&&"undefined"!=typeof n[i].imageLink&&null!=n[i].imageLink&&""!=n[i].imageLink){for(var o,a=t.rules[r].smartObject.experiment,s=0;s<DYO.oexps[a].variations.length;s++)if(DYO.oexps[a].variations[s].name==i){o=DYO.oexps[a].variations[s].id;break}n[i].doNotMarkUnit=!0,n[i].imageLink="http://px.dynamicyield.com/var?t=c&e="+a+"&va=%5B"+o+"%5D&_="+Math.random()+"&red="+encodeURIComponent(n[i].imageLink)}}}return{updateImageVariations:e}}(),DYO.SmartsPreWork=function(){function e(e){var t=u[e];if(!t.executed){var r=t.audParts.pageEventAudRules;if("undefined"!=typeof r)for(var n=0;n<r.length;n++)if("undefined"!=typeof r[n])return;if(DYO.otags[e].hasOwnProperty("ttw")&&DYO.otags[e].ttw>0){var i=t.depConds;if("undefined"!=typeof i)for(var o=0;o<i.length;o++)if("undefined"!=typeof i[o])return}t.executed=!0,t.callback(t.audParts.cleanAudRules)}}function t(t,r,n,i){var o=a(t,r);u[r]={callback:i,executed:!1,audParts:n,depConds:o};for(var s=0;s<u[r].depConds.length;s++)!function(){function t(){delete u[r].depConds[n],e(r)}var n=s;"undefined"!=typeof u[r].depConds[n]&&(DYO.pubSub.sub("dy-dep-cond-done-smartTag-"+r,t),DYO.pubSub.sub("dy-dep-cond-max-timeouts",t))}();e(r)}function r(r,n,o){("object"!=typeof r||"undefined"==typeof n)&&o();var a=s(r.pageEventDisjs),u=a.pageEventAudRules;t(r,n,a,o);for(var c=0;c<u.length;c++)for(var d=0;u[c]&&d<u[c].conds.length;d++)!function(){function t(){delete u[o],e(n)}function r(){var e=u[o];t(),u[o]=e}var o=c,a=u[c].conds[d];switch(a.selectMethod){case"LeavePage":DY.API("sub",{on:"dy-mouse-leave-doc",callback:r});break;case"SiteEvent":DY.API("sub",{on:"dy-event-"+a.selectParameter,callback:t});break;case"TimeOnPage":if(0==a.selectParameter)t();else{var s=setTimeout(t,1e3*parseFloat(a.selectParameter));DYO.isMobile&&DY.API("page_handlers",s)}break;case"WaitForElement":DYO.waitForElement(a.selectParameter,t);break;case"WaitForExternalComponent":i(a.selectParameter.split(","),t);break;case"ClickOnElement":case"HoverOnElement":var l;switch(a.selectMethod){case"ClickOnElement":l="mousedown";break;case"HoverOnElement":l="mouseenter"}DY.API("callback",function(){$dy("body").on(l,a.selectParameter,r)})}}();e(n)}function n(e,t,r){"undefined"==typeof r&&(r=20);var i=e.split(".");i.unshift(window),o.apply(void 0,i)?t():setTimeout(function(){n(e,t,r)},r)}function i(e,t,r){for(var i=0,o=0;o<e.length;o++)n(e[o],function(){i++,e.length===i&&t()},r)}function o(e){for(var t=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++){if(!e||!e.hasOwnProperty(t[r]))return!1;e=e[t[r]]}return!0}function a(e,t){var r=[];if(DYO.waitersTimeouts._dy_max_timeout||DYO.waitersTimeouts[t])return r;var n=DYO.Conditions.webConditionsWithDependencies,i=null===DYO.StorageUtils.get("dy_fs_page",["cookieStorage","sessionStorage"]);if("undefined"!=typeof e.rules)for(var o=0;o<e.rules.length;o++)if("undefined"!=typeof e.rules[o].ruleDisjs)for(var a=0;a<e.rules[o].ruleDisjs.length;a++){var s,u=e.rules[o].ruleDisjs[a];s="undefined"!=typeof u&&"undefined"!=typeof u.condType&&"_"!==u.condType[0]?{isPerSession:!1}:n.stScript[u.condType],"undefined"!=typeof s&&(!s.isPerSession||s.isPerSession&&i)&&r.push("stScript")}return r}function s(e){for(var t=[],r=[],n=0;n<e.length;n++)"_PageEvent"===e[n].condType?t.push(e[n]):r.push(e[n]);return{pageEventAudRules:t,cleanAudRules:r}}var u={};return{executeWithPageEvents:r,waitForDependencies:t}}(),DYO.waitForElement=function(e,t,r,n,i){function o(){var a=document.dyQuerySelectorAll(e);a.length>=r?t(a):0!==i--&&setTimeout(o,n)}"undefined"==typeof r&&(r=1),"undefined"==typeof n&&(n=100),"undefined"==typeof i&&(i=-1),o()},DYO.Conditions=function(){function e(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function t(t){n=e(n,t)}var r={fsParamPrefix:null,parameter:null,selectParameter:null,selectParameter2:null,selectMethod:null,context:null,eventName:null,includeUrlParams:null,jsCode:null,hitCountMethod:null,hitCount:null,timeZoneOffset:null,weatherMethod:null,weatherParameter:null,weatherCondDaysMethod:null,audienceItem:null,out:null},n={},i={initConditionsParams:function(e,t,n,i){r.fsParamPrefix="dy_fs_page",r.newFsParamPrefix="dy_nfs_page_"+(window.DY&&DY.scsec||""),r.firstSessionCookie="_dynfs_"+(window.DY&&DY.scsec||""),r.parameter=e.parameter,r.selectParameter=e.selectParameter,"string"==typeof r.selectParameter&&(r.selectParameter=r.selectParameter.toLowerCase()),r.selectParameter2=e.selectParameter2,"string"==typeof r.selectParameter2&&(r.selectParameter2=r.selectParameter2.toLowerCase()),r.selectMethod=e.selectMethod,r.context=i,r.includeUrlParams=e.includeUrlParams||"undefined"==typeof e.includeUrlParams,r.jsCode=e.jsCode,r.hitCountMethod=e.hitCountMethod,r.hitCount=e.hitCount,r.timeZoneOffset=e.timeZoneOffset,r.weatherMethod=e.weatherMethod,r.weatherParameter=e.weatherParameter,r.weatherCondDaysMethod=e.weatherCondDaysMethod,r.eventName=e.eventName,r.out=n,"undefined"!=typeof t&&null!==t&&(r.audienceItem=t,"string"==typeof r.audienceItem.data&&(r.audienceItem.data=r.audienceItem.data.toLowerCase()))},matchNow:function(e,t,r,o){i.initConditionsParams(t,null,r,o),"Audience"===e&&(e="_Audience");try{return n[e]()}catch(a){return!1}},match:function(e,t){i.initConditionsParams(t,e),("not_equals"===r.selectMethod||"pair_not_equals"===r.selectMethod)&&(r.selectMethod="equals");try{return n[e.type]()}catch(o){return!1}}},o={match:function(e){switch(e.toLowerCase()){case"=":case"equals":return a.equals;case"not_equals":return a.not_equals;case"pair_contains":case"contains":return a.contains;case"not_contains":return a.not_contains;case"regexp":return a.regexp;case"pair_equals":return a.equals;case"gt":case">":case"above":case"pair_bigger":return a.greaterThan;case"lt":case"<":case"below":case"pair_smaller":return a.lowerThan;case"ge":case">=":case"pair_eq_bigger":return a.greaterEquals;case"le":case"<=":case"pair_eq_smaller":return a.lowerEquals;case"exists":return a.exists;case"match_item_with_array":return a.matchItemWithArray;case"match_array_with_array":return a.matchArrayWithArray;default:return function(){return!1}}}},a={equals:function(e,t,r){return(r||{}).isMandatory1&&"undefined"==typeof e?!1:(r||{}).floatingPointComparisonErrorMargin?Math.abs(parseFloat(e)-parseFloat(t))<(r||{}).floatingPointComparisonErrorMargin:e==t},not_equals:function(e,t){return e!=t},contains:function(e,t){try{return e=e.toString(),-1!==e.indexOf(t)}catch(r){return!1}},not_contains:function(e,t){try{return e=e.toString(),-1===e.indexOf(t)}catch(r){return!1}},regexp:function(e,t){return new RegExp(t).test(e)},exists:function(e){return e&&"undefined"!=typeof e&&""!==e},greaterThan:function(e,t,r){return parseFloat(e)>parseFloat(t)+((r||{}).floatingPointComparisonErrorMargin||0)},greaterEquals:function(e,t,r){return parseFloat(e)>=parseFloat(t)-((r||{}).floatingPointComparisonErrorMargin||0)},lowerThan:function(e,t,r){return parseFloat(e)<parseFloat(t)-((r||{}).floatingPointComparisonErrorMargin||0)},lowerEquals:function(e,t,r){return parseFloat(e)<=parseFloat(t)+((r||{}).floatingPointComparisonErrorMargin||0)},matchItemWithArray:function(e,t,r){for(var n="not_equals"===e||"not_contains"===e,i=0;i<t.length;i++){var a=t[i];if("undefined"!=typeof a){"string"==typeof a&&(a=a.toLowerCase());var s=o.match(e)(a,r);if(n!==s){n=s;break}}}return n},matchArrayWithArray:function(e,t,r){for(var n="not_equals"===e||"not_contains"===e,i=0;i<r.length;i++){var o=r[i];if("undefined"!=typeof o){var s=a.matchItemWithArray(e,t,o);if(n!==s){n=s;break}}}return n}},s={stScript:{_Audience:{isPerSession:!1},_Country:{isPerSession:!0},_Continent:{isPerSession:!0},_Region:{isPerSession:!0},_City:{isPerSession:!0},_Weather:{isPerSession:!0},_WeekDay:{isPerSession:!0},_Date:{isPerSession:!0},_TimeOfDay:{isPerSession:!0},_HasCustomUserData:{isPerSession:!1},_DeviceType:{isPerSession:!0},_DeviceBrand:{isPerSession:!0},_TrafficSource:{isPerSession:!0},_ProductPurchased:{isPerSession:!1},_ProductViewed:{isPerSession:!1}}};return{matchNow:i.matchNow,match:i.match,addConditions:t,params:r,Matcher:o,webConditionsWithDependencies:s}}(),function(){var e=DYO.Conditions.Matcher,t=DYO.Conditions.params;DYO.sharedConditions={_URLParam:function(){if(t.selectParameter&&t.selectParameter2&&t.selectMethod){var r=DYO.StringUtils.getUrlParam(t.selectParameter,location.href);return r?e.match(t.selectMethod)(r,t.selectParameter2):"not_equals"===t.selectMethod||"Not_exists"===t.selectMethod||"not_contains"===t.selectMethod}return!1},_Random:function(){return 100*Math.random()<parseFloat(t.selectParameter)},_PageType:function(){if("undefined"==typeof window.DY)return!1;if("undefined"==typeof window.DY.recommendationContext||"undefined"==typeof window.DY.recommendationContext.type)return"not_equals"===t.selectMethod;if("string"!=typeof t.selectParameter||""===t.selectParameter)return!1;var r=window.DY.recommendationContext.type.toLowerCase();return"post"===r&&(r="product"),e.match(t.selectMethod)(r,t.selectParameter)},_ProductPage:function(){return"undefined"==typeof window.DY||"undefined"==typeof window.DY.recommendationContext||"undefined"==typeof window.DY.recommendationContext.type||"product"!==window.DY.recommendationContext.type.toLowerCase()?!1:"object"!=typeof window.DY.recommendationContext.data||null===typeof window.DY.recommendationContext.data||"undefined"==typeof window.DY.recommendationContext.data[0]?"not_equals"===t.selectMethod:"string"!=typeof t.selectParameter||""===t.selectParameter?!1:e.match(t.selectMethod)(window.DY.recommendationContext.data[0].toString().toLowerCase(),t.selectParameter)},_CartPage:function(){return"undefined"==typeof window.DY||"undefined"==typeof window.DY.recommendationContext||"undefined"==typeof window.DY.recommendationContext.type||"cart"!==window.DY.recommendationContext.type.toLowerCase()?!1:"object"!=typeof window.DY.recommendationContext.data||null===typeof window.DY.recommendationContext.data||"undefined"==typeof window.DY.recommendationContext.data[0]?"not_equals"===t.selectMethod||"not_contains"===t.selectMethod:"string"!=typeof t.selectParameter||""===t.selectParameter?!1:e.match("match_item_with_array")(t.selectMethod,window.DY.recommendationContext.data,t.selectParameter)},_CategoryPage:function(){if("undefined"==typeof window.DY||"undefined"==typeof window.DY.recommendationContext||"undefined"==typeof window.DY.recommendationContext.type||"category"!==window.DY.recommendationContext.type.toLowerCase())return!1;if(null===typeof window.DY.recommendationContext.data||!(window.DY.recommendationContext.data instanceof Array))return"not_equals"===t.selectMethod||"not_contains"===t.selectMethod;var r=t.selectParameter.toString().toLowerCase().split("|");return e.match("match_array_with_array")(t.selectMethod,window.DY.recommendationContext.data,r)},_Continent:function(){return window.DY.geoCont&&"undefined"!=typeof window.DY.geoCont&&null!==t.selectParameter?e.match(t.selectMethod)(window.DY.geoCont.toLowerCase(),t.selectParameter.toLowerCase(),{isMandatory1:!0}):"not_equals"===t.selectMethod},_Country:function(){return window.DY.geoCode&&"undefined"!=typeof window.DY.geoCode&&null!==t.selectParameter?e.match(t.selectMethod)(window.DY.geoCode.toLowerCase(),t.selectParameter.toLowerCase(),{isMandatory1:!0}):"not_equals"===t.selectMethod},_Region:function(){return window.DY.geoRegionCode&&"undefined"!=typeof window.DY.geoRegionCode&&null!==t.selectParameter?e.match(t.selectMethod)(window.DY.geoRegionCode.toLowerCase(),t.selectParameter.toLowerCase(),{isMandatory1:!0}):"not_equals"===t.selectMethod},_City:function(){return window.DY.geoCity&&"undefined"!=typeof window.DY.geoCity&&null!==t.selectParameter?e.match(t.selectMethod)(window.DY.geoCity.toLowerCase(),t.selectParameter.toLowerCase(),{isMandatory1:!0}):"not_equals"===t.selectMethod},_PageEvent:function(){return!0}}}(),function(){var e=(DYO.Conditions.Matcher,DYO.Conditions.params);DYO.cpConditions={_Audience:function(){var t=-1!=("."+(window.DY&&window.DY.aud||"")+"."+DYO.Cookies.loadCHCCookies().auds.join(".")+"."+DYO.Cookies.loadSessionCookies().sauds.join(".")+".").indexOf("."+e.parameter+".");switch(e.hitCountMethod){case">=":return t;case"<":return!t;default:return!1}},_Date:function(){var t=DYO.accurateNow(),r=0;switch("undefined"!=typeof e.parameter&&1==e.parameter&&(r=60*DYO.accurateNow().getTimezoneOffset()*1e3),e.selectMethod){case"after":return t>=new Date(1e3*parseInt(e.selectParameter)+r);case"before":return t<=new Date(1e3*parseInt(e.selectParameter2)+r);case"between":return t>=new Date(1e3*parseInt(e.selectParameter)+r)&&t<=new Date(1e3*parseInt(e.selectParameter2)+r);default:return!1}},_TimeOfDay:function(){function t(e){return 60*e.getHours()+e.getMinutes()}var r=t(DYO.accurateNow()),n=0;"undefined"!=typeof e.parameter&&1==e.parameter&&(n=60*new Date(0).getTimezoneOffset()*1e3);var i=t(new Date(1e3*parseInt(e.selectParameter)+n)),o=t(new Date(1e3*parseInt(e.selectParameter2)+n));return o>=r&&r>=i},_Weather:function(){function t(e,t,r,n){for(var i=0;r>=i;++i){var o=n[i];switch(t){case"equals":if(o.condition===e)return!0;break;case"not_equals":if(o.condition!==e)return!0;break;default:return!1}}return!1}function r(e,t,r,n,i,o){for(var a=0;r>=a;++a){var s=n[a],u=s[i];switch(u=parseFloat("undefined"!=typeof o?u[o]:u),t){case"Above":if(u>e)return!0;break;case"Below":if(e>u)return!0;break;default:return!1}}return!1}if(!(e.selectParameter&&e.selectMethod&&e.weatherMethod&&e.weatherParameter&&e.weatherCondDaysMethod))return!1;var n,i;switch("now"===e.weatherCondDaysMethod?(n=window.DY.currentWeather&&[window.DY.currentWeather],i=0):(n=window.DY.weather,i=parseInt(e.weatherCondDaysMethod.match(/\d+/)[0])),e.selectParameter.toLowerCase()){case"weatherconditions":return t(e.weatherParameter,e.selectMethod,i,n);case"temperature":return r(parseFloat(e.weatherParameter),e.selectMethod,i,n,"temp","max");case"windspeed":return r(parseFloat(e.weatherParameter),e.selectMethod,i,n,"windspeed");case"humidity":return r(parseFloat(e.weatherParameter),e.selectMethod,i,n,"humidity");default:return!1}},_WeekDay:function(){var t=DYO.accurateNow();return"undefined"!=typeof e.selectParameter&&1==e.selectParameter?t.getDay()===e.parameter:(t.setTime(t.getTime()+60*t.getTimezoneOffset()*1e3+60*e.timeZoneOffset*60*1e3),e.parameter==t.getDay())}}}(),function(){function e(e,t){return t?e:!e}function t(e,t){var i="";if("RightNow"===t.selectMethod)i="5min";else if("InThePast"===t.selectMethod)switch(t.selectParameter){case"hour":i="hourly";break;case"day":i="daily";break;case"week":i="weekly"}return"anywhere"===t.selectParameter2||"undefined"==typeof t.selectParameter2?r.match(n.hitCountMethod)(DY.productInterest[e][i],n.hitCount):r.match(n.hitCountMethod)(DY.productInterest[t.selectParameter2][e][i],n.hitCount)}var r=DYO.Conditions.Matcher,n=DYO.Conditions.params,i={_Audience:DYO.cpConditions._Audience,_Browser:function(){var e=navigator.userAgent.toLowerCase(),t=function(t){return null!=/msie ([0-9]{1,}[\.0-9]{0,})/.exec(e)?parseInt(RegExp.$1)==t:/trident/.test(e)&&null!=/rv\:([0-9]{1,}[\.0-9]{0,})/.exec(e)?parseInt(RegExp.$1)==t:!1};switch(n.parameter){case 12:return/chrome/.test(e);case 13:return t(6);case 14:return t(7);case 15:return t(8);case 16:return t(9);case 17:return t(10);case 18:return/firefox/.test(e);case 33:return window.opera?!0:!1;case 34:return/safari/.test(e)&&!/chrome/.test(e);case 36:return!/chrome|firefox|safari|msie|trident/.test(e)&&!window.opera;case 39:return t(11);default:return!1}},_City:DYO.sharedConditions._City,_CurrentPage:function(){var e=DYO.StringUtils.removeHttp(location.href.toLowerCase());if(e=e.replace(/\#.*/,""),!n.includeUrlParams&&(e=e.replace(/\?.*/,""),"regexp"!==n.selectMethod)){var t=DYO.StringUtils.removeHttp(n.selectParameter.toLowerCase()).replace(/\?.*/,"");return r.match(n.selectMethod)(e,t)}return r.match(n.selectMethod)(e,n.selectParameter)},_Continent:DYO.sharedConditions._Continent,_CookieParam:function(){if(n.selectParameter&&n.selectParameter2&&n.selectMethod){var e=DYO.StorageUtils.get(n.selectParameter,["cookieStorage"]);return e?r.match(n.selectMethod)(e.toLowerCase(),n.selectParameter2):"not_equals"===n.selectMethod||"Not_exists"===n.selectMethod}return!1},_Date:DYO.cpConditions._Date,_Country:DYO.sharedConditions._Country,_DeviceBrand:function(){return r.match(n.selectMethod)(window.DY.deviceInfo.brand.toLowerCase(),n.selectParameter)},_DeviceType:function(){return r.match(n.selectMethod)(window.DY.deviceInfo.type.toLowerCase(),n.selectParameter)},_Evaluator:function(){var e;return e=DYO.CoreUtils.safeEval(n.jsCode),"string"==typeof e&&(e=e.toLowerCase()),r.match(n.selectMethod)(e,n.selectParameter)},_FirstPageInSession:function(){var e,t=DYO.StringUtils.removeHttp(location.href.toLowerCase()).replace(/\#.*/,""),i=DYO.SessionUtils.isKnownToBeNewSessionSection();if(i){var o=DYO.SessionUtils.getNewSessionId(),a=DYO.StorageUtils.get(n.newFsParamPrefix,["localStorage"]);null===a||a.split(",")[0]!==o?(DYO.StorageUtils.set(n.newFsParamPrefix,[o,t].join(),["localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain(),expire:0}),o===DYO.SessionUtils.NEXT&&DYO.SessionUtils.onNewSession(function(e){DYO.StorageUtils.set(n.newFsParamPrefix,[e,t].join(),["localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain(),expire:0})}),e=t):e=a.split(",").splice(1).join()}else e=DYO.StorageUtils.get(n.fsParamPrefix,["cookieStorage","sessionStorage"]),null===e&&(DYO.StorageUtils.set(n.fsParamPrefix,t,["sessionStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain(),expire:0}),DYO.SessionUtils.onNewSession(function(e){DYO.StorageUtils.set(n.newFsParamPrefix,[e,t].join(),["localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain(),expire:0})}),e=t);if(!n.includeUrlParams&&"undefined"!=typeof n.includeUrlParams&&(e=e.replace(/\?.*/,""),"regexp"!==n.selectMethod)){var s=DYO.StringUtils.removeHttp(n.selectParameter.toLowerCase()).replace(/\?.*/,"");return r.match(n.selectMethod)(e,s)}return r.match(n.selectMethod)(e,n.selectParameter)},_HasCustomUserData:function(){return"undefined"!=typeof window.DY.cud&&"undefined"!=typeof window.DY.cud[n.parameter]&&(n.out.cud=window.DY.cud[n.parameter]||!0)},_OSDeviceName:function(){var t=navigator.userAgent.toLowerCase(),r=navigator.platform.toLowerCase(),i="equals"===n.selectMethod;switch(n.parameter){case 0:return e(/iphone|ipod|blackberry|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|sonyericsson|symbian|treo mini/.test(t)||/silk|ipad|android|kindle/.test(t),i);case 1:return e(/iphone|ipod/.test(t),i);case 2:return e(/silk|ipad|android|kindle/.test(t)&&(!/android/.test(t)||screen.width>1024),i);case 3:return e(/android/.test(t)&&screen.width<=1024,i);case 4:return e(/win/.test(r)||/win/.test(t),i);case 5:return e((/mac/.test(r)||/mac/.test(t))&&!/iphone|ipod|ipad/.test(t),i);case 35:return e(/linux/.test(r)||/linux/.test(t),i);default:return!1}},_PageEvent:DYO.sharedConditions._PageEvent,_ProductViewed:function(){return t("view",n)},_ProductPurchased:function(){return t("purchase",n)},_Random:DYO.sharedConditions._Random,_Referrer:function(){var e=DYO.StringUtils.removeHttp(document.referrer.toLowerCase());if(e=e.replace(/\#.*/,""),!n.includeUrlParams&&"undefined"!=typeof n.includeUrlParams&&(e=e.replace(/\?.*/,""),"regexp"!==n.selectMethod)){var t=DYO.StringUtils.removeHttp(n.selectParameter.toLowerCase()).replace(/\?.*/,"");return r.match(n.selectMethod)(e,t)}return r.match(n.selectMethod)(e,n.selectParameter)},_Region:DYO.sharedConditions._Region,_ScreenSize:function(){var t=window.innerWidth,r="equals"===n.selectMethod;switch(n.parameter){case 26:return e(t>1366,r);case 27:return e(1366>=t&&t>1024,r);case 28:return e(1024>=t,r);default:return!1}},_PageType:DYO.sharedConditions._PageType,_ProductPage:DYO.sharedConditions._ProductPage,_CartPage:DYO.sharedConditions._CartPage,_CategoryPage:DYO.sharedConditions._CategoryPage,_TimeOfDay:DYO.cpConditions._TimeOfDay,_TimeSince:function(){var e=DYO.csc.readEvent(n.selectParameter.replace(/\$\{smartTagId\}/gi,n.context.smartTagId)),t=0;switch(n.parameter){case 0:t=e.timeSince/1e3;break;case 1:t=e.sessionsSince;break;default:return!1}return r.match(n.hitCountMethod)(t,n.hitCount)},_URLParam:DYO.sharedConditions._URLParam,_VisitorType:function(){var e,t=DYO.SessionUtils.isKnownToBeNewSessionSection();if(t){var r=DYO.SessionUtils.getNewSessionId();e=DYO.StorageUtils.get(n.firstSessionCookie,["cookieStorage","localStorage"])===r||null===DYO.StorageUtils.get("_dyid",["cookieStorage","localStorage"])}else e=null!==DYO.StorageUtils.get("_dyfs",["cookieStorage","sessionStorage"])||null===DYO.StorageUtils.get("_dyid",["cookieStorage","localStorage"]);return n.parameter?e:!e},_WeekDay:DYO.cpConditions._WeekDay,_Weather:DYO.cpConditions._Weather,_TrafficSource:function(){return r.match(n.selectMethod)(window.DY.trafficSource.toLowerCase(),n.selectParameter)}};DYO.Conditions.addConditions(i)}(),DYO.preview=function(){function e(e){return"undefined"==typeof e||null===e||""===e||e==={}||e===[]}function t(){try{var e="true"===DYO.StringUtils.getUrlParam("dyPersistSession"),t=DYO.StorageUtils.enabled("cookieStorage");if(e&&t){var r=w+";"+S+";"+d(x);DYO.StorageUtils.set(I,r,["cookieStorage"]),window.name="dy_preview"}}catch(n){DY.API("internal_error",{name:"preview persistIfNeeded",error:n})}}function r(e,t){y(e)||(E.push(e+""),g(e,n.bind(this,e,t)))}function n(r,n){try{t();var i={},o=null;if(!e(DYO.otags[r].rules))for(var s=0;s<DYO.otags[r].rules.length;s++)e(DYO.otags[r].rules[s].smartObject)||e(DYO.otags[r].rules[s].smartObject.id)||DYO.otags[r].rules[s].smartObject.id!==S||(o=DYO.otags[r].rules[s].smartObject);if(e(o))throw{code:0,tag:r,msg:"no rule matched for Smart Tag on preview"+r};var c=D(r,o.id);try{switch(o.objectType){case C:var d=u(x,o,1)[0],l=DYO.renderSmartObjectVariation(r,o.id,c,d,n);n.returnVar||DYO.CoreUtils.insertElement(l.el,n.target),l.cb();break;case P:for(var p=e(o.autoScrollSpeed)?0:o.autoScrollSpeed,f=e(o.slideCount)||0===o.slideCount?Object.keys(o.variations).length:o.slideCount,m=u(x,o,f),g=[],h=function(){},s=0;s<m.length;s++){var v=DYO.renderSmartObjectVariation(r,o.id,c,m[s],n);!function(){var e=h,t=v.cb;h=function(){e(),t()}}(),g.push({element:v.el,variation:x[s]})}var O=document.createElement("div");O.className="dy_unit dy_smart_object_"+o.id,DYO.CoreUtils.insertElement(O,n.target),a(function(){$dy.renderSmartTagSlider(O,{expId:null,width:o.width,height:o.height,scrollSpeed:p},g),h()});break;case A:O=document.createElement("div"),O.className="dy_unit dy_smart_object_"+o.id;for(var y=function(){},f=e(o.slideCount)||0===o.slideCount?Object.keys(o.variations).length:o.slideCount,m=u(x,o,f),s=0;s<m.length;s++){var v=DYO.renderSmartObjectVariation(r,o.id,c,m[s],n);if(O.appendChild(v.el),function(){var e=y,t=v.cb;y=function(){e(),t()}}(),s+1<x.length){var Y=document.createElement("div");Y.innerHTML=decodeURIComponent(o.htmlSeparator);for(var w=0;w<Y.childNodes.length;w++)O.appendChild(Y.childNodes[w])}}DYO.CoreUtils.insertElement(O,n.target),y();break;default:throw{code:0,tag:r,msg:'unsupported object type "'+o.objectType+'" for Smart Tag preview'+r+" in Smart Object "+o.id}}}catch(I){}"function"==typeof n.afterRenderCallback&&n.afterRenderCallback();var b={code:1,tag:r,msg:"executing preview Smart Tag on tag "+r};return n.returnVar&&(b.soProps=i),b}catch(I){return DY.API("internal_error",{name:"previewSmartObject",error:I}),{code:0,tag:r,msg:"error while executing preview Smart Tag on tag "+r,ex:I}}}function i(e){y(e)||(E.push(e+""),g(e,o.bind(this,e)))}function o(r){t();var n=null;if(!e(DYO.otags[r].rules))for(var i=0;i<DYO.otags[r].rules.length;i++)e(DYO.otags[r].rules[i].smartObject)||e(DYO.otags[r].rules[i].smartObject.id)||DYO.otags[r].rules[i].smartObject.id!==S||(n=DYO.otags[r].rules[i].smartObject);if(e(n))return void DY.API("internal_error",{name:"preview smart action no smartObject"});var o=D(r,n.id),a=u(x,n,1)[0],c=null;switch(DYO.Params.initParams(a.params),n.objectType){case DYO.ACTION_TYPES.OVERLAY:var d=s(r,n.id,o,a),l=DYO.getPropsForOverlaysAndNotification(r,n);c=function(){window.DY.WindowActions.overlay(d,l)};break;case DYO.ACTION_TYPES.NOTIFICATION:var d=s(r,n.id,o,a),l=DYO.getPropsForOverlaysAndNotification(r,n);c=function(){window.DY.WindowActions.notify(d,l)};break;case DYO.ACTION_TYPES.JAVASCRIPT:var p={};try{p=DYJSON.parse(decodeURIComponent(a.resources))}catch(f){}DYO.loadExternalResources(p),DYO.CoreUtils.safeEval("(function(){"+DYO.Params.searchAndReplace("js",a.jsCode)+"\n})();")}e(c)||DY.API("callback",c)}function a(t){e(window.DY)||e(window.$dy)||e(window.$dy.renderSmartTagSlider)?DY.API("callback",t):t()}function s(e,t,r,n){var i=DYO.renderSmartObjectVariation(e,t,r,n,{});return i.element=i.el,i.callback=i.cb,delete i.el,delete i.cb,i}function u(t,r,n){var i=[];if("random"!==t&&"object"==typeof t){if(t.length)for(var o=0;o<t.length;o++)if(!e(r.variations[t[o]])){var a=r.variations[t[o]];a.id=t[o],i.push(a)}}else for(var t=Object.keys(r.variations),o=0;n>o;o++){var s=Math.floor(Math.random()*t.length),u=t[s];t.splice(s,1);var a=r.variations[u];a.id=u,i.push(a)}return 0===i.length&&DY.API("internal_error",{name:"preview error - no variations for smart "+r.id,clientOnly:!0}),i}function c(t){if(e(t)||"random"===t)return"random";try{return t.substr(1,t.length-2).split(",")}catch(r){return"random"}}function d(e){return"string"==typeof e&&"random"===e?e:"["+e.toString()+"]"}function l(){return"undefined"!=typeof window.name&&"dy_preview"===window.name}function p(t){var r=DYO.StringUtils.getUrlParam("dyIsPreview"),n=DYO.StringUtils.getUrlParam("dySmartId"),i=DYO.StringUtils.getUrlParam("dyExperienceId"),o=DYO.StringUtils.getUrlParam("dyVariationId");if(r=null!==r?decodeURIComponent(r):null,n=null!==n?decodeURIComponent(n):null,i=null!==i?decodeURIComponent(i):null,o=null!==o?decodeURIComponent(o):null,isNaN(n)||isNaN(i)||e(t))return!1;if(n=parseInt(n),i=parseInt(i),!(e(r)||e(n)||e(i)||e(DYO.otags[n])||e(DYO.otags[n].name)||DYO.otags[n].name!==t&&parseInt(t)!==n))return f(n,i,o),!0;if(e(r)&&l()){var a=Y();if(a){var n=a[0],i=a[1],o=a[2];if(!(e(n)||e(i)||e(o)||e(DYO.otags[n])||e(DYO.otags[n].name)||DYO.otags[n].name!==t&&parseInt(t)!==n))return f(n,i,o),m(),!0}}return!1}function f(e,t,r){w=e,S=t,x=c(r)}function m(){if(!e(window.history)&&"function"==typeof window.history.pushState){var t="?dyIsPreview=true&dySmartid="+w+"&dyIsDraft=false&dyExperienceId="+S+"&dyVariationId="+d(x)+"&dyPersistSession=true";window.history.pushState({},{},t)}}function g(t,r){var n=!1;if(e(DYO.section)||-1!==b.indexOf(DYO.section))return void r();var i=document.createElement("script");i.onload=function(){n||(n=!0,v(t),r())},i.onreadystatechange=function(){("complete"===this.readyState||"loaded"===this.readyState)&&(n||(n=!0,v(t),r()))};var o=h(t),a=(new Date).getTime()+"_"+parseInt(1e6*Math.random()),s="//st.dynamicyield.com/ffst?&smt="+t+"&overrideCache=1&_"+a;e(o)||(s+="&exps="+o),i.src=s,i.async=!1,document.getElementsByTagName("head")[0].appendChild(i),setTimeout(function(){n||(n=!0,r())},_)}function h(t){var r=[];if(!e(DYO.otags[t])&&!e(DYO.otags[t].rules)&&DYO.otags[t].rules.length)for(var n=0;n<DYO.otags[t].rules.length;n++)e(DYO.otags[t].rules[n].smartObject)||e(DYO.otags[t].rules[n].smartObject.experiment)||r.push(DYO.otags[t].rules[n].smartObject.experiment);return r.toString()||""}function v(e){DYO.otags[e]=DYExps.otags[e];for(var t in DYExps.oexps)DYO.oexps[t]=DYExps.oexps[t]}function D(t,r){if(e(DYO.otags[t])||e(DYO.otags[t].rules))return null;for(var n=0;n<DYO.otags[t].rules.length;n++)if(!e(DYO.otags[t].rules[n].smartObject)&&!e(DYO.otags[t].rules[n].smartObject.id)&&DYO.otags[t].rules[n].smartObject.id==r)return n}function O(t,r){var n=DYO.StringUtils.getUrlParam("dyIsPreview");if(n=null!==n?decodeURIComponent(n):null,!l()&&e(n)||e(r)||e(r.objectType)||r.objectType!==DYO.ACTION_TYPES.OVERLAY)return!1;var i=DYO.StringUtils.getUrlParam("dySmartId");if(i=null!==i?decodeURIComponent(i):null,isNaN(i)||e(t))return!1;if(!(e(DYO.otags[i])||e(DYO.otags[i].rules)||e(DYO.otags[i].rules[0].smartObject)||e(DYO.otags[i].rules[0].smartObject.objectType)||DYO.otags[i].rules[0].smartObject.objectType!==DYO.ACTION_TYPES.OVERLAY||e(DYO.otags[i])||i===t))return!0;if(l()){var o=Y();if(o){var i=o[0];if(!(e(i)||e(DYO.otags[i])||e(DYO.otags[i].name)||e(DYO.otags[i].rules)||e(DYO.otags[i].rules[0].smartObject)||e(DYO.otags[i].rules[0].smartObject.objectType)||DYO.otags[i].rules[0].smartObject.objectType!==DYO.ACTION_TYPES.OVERLAY||i===t))return!0}}return!1}function y(e){return-1!==E.indexOf(e+"")}function Y(){if(DYO.StorageUtils.enabled("cookieStorage")){var e=DYO.StorageUtils.get(I,["cookieStorage"]);if(e){var t=e.split(";");if(3===t.length&&!isNaN(t[0])&&!isNaN(t[1]))return t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),t}}return!1}var w,S,x,I="__dy_preview_session",b=[8766086,8766062,8766063,8765816],_=1500,E=[],C=0,P=1,A=2,T={previewSmartObjectWithUncachedData:r,previewSmartActionWithUncachedData:i,isPreviewForAnotherOverlay:O,isPreviewForSmartTag:p};return T}(),DYO.accurateNow=function(){var e=parseInt(DYO.StorageUtils.get("_dy_toffset",["cookieStorage","localStorage"])),t=(new Date).valueOf();return isNaN(e)||(t+=1e3*e),new Date(t)},DYO.Cookies=function(){function e(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t}function t(t){for(var r=e(t.split(".")),n={},i=0;i<r.length;i++){var o=r[i].split("@");n[o[0]]="nu"==o[1]?null:o[1]}return n}function r(){var r=DYO.StorageUtils.get(i,["localStorage","memoryStorage"]);return null==r?{auds:[],tchc:{},chc:{},audCache:{}}:(r=r.split("*"),{auds:e(r[0].split(".")),tchc:t(r[1]),chc:t(r[2]),audCache:t(r[3])})}function n(){var r=DYO.StorageUtils.get(a,["localStorage","memoryStorage"]),n=null;return DY.isNewStyleSession||r?r&&(r=r.split(","),DYO.SessionUtils.getNewSessionId()===r[0]&&(n=r.splice(1).join())):n=DYO.StorageUtils.get(o,["sessionStorage","memoryStorage"]),null==n?{sauds:[],schc:{},saudCache:{}}:(n=n.split("*"),{sauds:e(n[0].split(".")),schc:t(n[1]),saudCache:t(n[2])})}var i="_dyaud_nchc",o="_dyaud_sess",a="_dyaud_nses";return{loadCHCCookies:r,loadSessionCookies:n}}(),DYO.Params=function(){function e(e,t,r){i[e][t]=r}function t(e){if(o={html:{},css:{},js:{}},"undefined"!=typeof e&&null!=e&&""!=e)try{o=DYJSON.parse(decodeURIComponent(e))}catch(t){}}function r(e,t){t=decodeURIComponent(t);for(var r in o[e])if(o[e].hasOwnProperty(r)){var a=i[e][r],s="";s=null!=a&&"undefined"!=typeof a&&""!=a?a:DYO.dynamicField(unescape(o[e][r].value));var u=new RegExp(n(r),"gm");t=t.replace(u,s.replace("$","$$$$"))}return t}function n(e){return"\\$(ext|img|image|select|unique|)\\{\\s*"+e.replace(/\ /g,"\\ ")+"(?:\\s*,\\s*(?:\\d+|{[^}]+})\\s*)?\\s*\\}"}var i={html:{},css:{},js:{}},o={html:{},css:{},js:{}};return{initParams:t,searchAndReplace:r,setParam:e}}(),DYO.dynamicField=function(){function e(e){if(DY.geoFields&&DY.geoFields[e])return DY.geoFields[e];var t=DYO.StorageUtils.get("_dy_df_geo",["cookieStorage","localStorage"]);if(!t)return null;var r=t.split("."),n=null;switch(e){case"country":r[0]&&(n=r[0]);break;case"state":r[1]&&(n=r[1]);break;case"city":r[2]&&(n=r[2])}return n&&"undefined"!==n&&""!==n?n:null}function t(e,t,r,n){return e.replace(t,i(r,n.before_txt,n.after_txt,n.fallback))}function r(e,t,r){try{return"undefined"==typeof DY.productInterest||"undefined"==typeof DY.productInterest.view?0:"undefined"==typeof r||"anywhere"===r||null===r?parseInt(DY.productInterest[e][t])||0:"undefined"!=typeof DY.productInterest[r]?parseInt(DY.productInterest[r][e][t])||0:0}catch(n){return DY.API("internal_error",{name:"getProductInterest func error",error:n}),0}}function n(e){return DYO.oevals&&DYO.oevals[e]&&DYO.oevals[e].hasOwnProperty("code")?DYO.CoreUtils.safeEval(DYO.oevals[e].code):null}function i(e,t,r,n){return null!==e&&"undefined"!=typeof e?(t&&(e=t+e),r&&(e+=r)):e=n||""===n?n:"-NA-",e}return function(i){for(var o;null!==(o=/\$dy\$<<<(.*?)>>>/g.exec(i));)try{var a=DYJSON.parse(o[1]);if("views_number"===a.type||"purchases_number"===a.type)switch(a.resolution){case"5min":break;case"hour":a.resolution="hourly";break;case"day":a.resolution="daily";break;case"week":a.resolution="weekly";break;default:a.resolution="weekly",DY.API("internal_error",{name:"dynamicField func resolution not according to contract: "+a.resolution})}switch(a.type){case"views_number":try{var s=r("view",a.resolution,a.location);i=i.replace(o[0],s)}catch(u){i=i.replace(o[0],0)}break;case"purchases_number":try{var s=r("purchase",a.resolution,a.location);i=i.replace(o[0],s)}catch(u){i=i.replace(o[0],0)}break;case"last_purchased_date":break;case"evaluator-value":try{var c=n(a.key);i=t(i,o[0],c,a)}catch(u){i=i.replace(o[0],"-NA-")}break;case"url-param-value":try{if("undefined"!=typeof a.key&&null!==a.key)var c=DYO.StringUtils.getUrlParam(a.key,location.href);else var c=null;i=t(i,o[0],c,a)}catch(u){i=i.replace(o[0],"-NA-")}break;case"cookie-value":try{var c=DYO.StorageUtils.get(a.key,["cookieStorage"]);i=t(i,o[0],c,a)}catch(u){i=i.replace(o[0],"-NA-")}break;case"city":try{var c=e("city");i=t(i,o[0],c,a)}catch(u){i=i.replace(o[0],"-NA-")}break;case"country":try{var c=e("country");i=t(i,o[0],c,a)}catch(u){i=i.replace(o[0],"-NA-")}break;case"state":try{var c=e("state");i=t(i,o[0],c,a)}catch(u){i=i.replace(o[0],"-NA-")}break;default:i=i.replace(o[0],"-NA-"),DY.API("internal_error",{name:"dynamicField func type not according to contract: "+a.type})}}catch(u){i=i.replace(o[0],"-NA-"),DY.API("internal_error",{name:"dynamicField func invalid JSON or variable type error",error:u})}return i}}(),function(){function e(e){var t=window.DY&&DY.referrer||document.referrer;switch(t=null!=t&&"undefined"!=typeof t&&""!=t?t.split("/")[2]:"",t=t.toLowerCase(),e.selectMethod){case"equals":case"not_equals":return t==e.selectParameter.toLowerCase();case"contains":return-1!==t.indexOf(e.selectParameter.toLowerCase());case"not_contains":return-1===t.indexOf(e.selectParameter.toLowerCase());default:return!1}}function t(t,r){var n,i,o,a={};if("undefined"==typeof n||"undefined"==typeof i){var s=DYO.Cookies.loadCHCCookies();n=s.tchc,i=s.chc}if("undefined"==typeof o&&(o=DYO.Cookies.loadSessionCookies().schc),"number"==typeof t){for(var u in DY.audienceRules)if("undefined"!=typeof DY.audienceRules[u]&&"undefined"!=typeof DY.audienceRules[u].audience&&DY.audienceRules[u].audience==t){t=DY.audienceRules[u];break}if("number"==typeof t)return!1}for(var c=!0,d=0;d<t.rule.length;d++)if("undefined"!=typeof t.rule[d]&&"undefined"!=typeof t.rule[d].condType&&"undefined"!=typeof t.rule[d].conds){for(var l=!1,p=0;p<t.rule[d].conds.length;p++){var f=t.rule[d].conds[p];if("_"===t.rule[d].condType.charAt(0)||"Audience"===t.rule[d].condType)l=DYO.Conditions.matchNow(t.rule[d].condType,f,a,r);else{if("undefined"==typeof f||"undefined"==typeof f.id||"undefined"==typeof f.hitCountMethod||"undefined"==typeof f.hitCount)continue;var m=t.session?o[f.id]||0:(parseInt(i[f.id])||0)+parseInt(n[f.id]||0);switch("Referrer"==t.rule[d].condType&&e(f)&&m++,f.hitCountMethod){case"=":l=m==f.hitCount;break;case">=":l=m>=f.hitCount;break;case"<=":l=m<=f.hitCount;break;case">":l=m>f.hitCount;break;case"<":l=m<f.hitCount;break;default:l=!1}}if(l)break}if(!l){c=!1;break}}if(c&&"undefined"!=typeof a.cud){var g=new Array;for(var h in a.cud)g.push({paramName:h,paramValue:a.cud[h]});DYO.setRemoteParameters(g)}return c}function r(e){var t=[];if(e&&e.css)for(var r=0;r<e.css.length;r++)t.push('<link rel="stylesheet" type="text/css" href="'+e.css[r]+'" />');if(e&&e.js)for(var r=0;r<e.js.length;r++)t.push('<script type="text/javascript" src="'+e.js[r]+'"></script>');return t.join("\n")}function n(e,t,n,i,o,a){if("undefined"==typeof t.variations[i])throw{type:"invalid position",vari:i};var s,u,c=t.variations[i];DYO.Params.initParams(c.params);var d=DYO.Params.searchAndReplace("html",c.htmlCode),l=DYO.Params.searchAndReplace("css",c.cssCode),p=DYO.Params.searchAndReplace("js",c.jsCode),f={};try{f=DYJSON.parse(decodeURIComponent(c.resources))}catch(m){}var g='<style type="text/css">';switch(g+=l,g+="</style>",c.renderType){case"src":var h=""!==p?'<script type="text/javascript">'+p+"</script>":"";s="<!DOCTYPE html><html><head>",s+=g+"</head><body>",s+=d+h+"</body></html>",u=function(){};break;case"html":var v=navigator.userAgent.toLowerCase(),D=!1;if(parseFloat((v.match(/msie ([0-9]{1,}[\.0-9]{0,})/)||[])[1])<9&&(D=!0),o)s=document.createElement("div"),s.className=n,s.innerHTML=D?d+g:g+d,DYO.loadExternalResources(f),u=function(){DYO.CoreUtils.safeEval("try{(function(){"+p+"\n})();}catch(e){}")};else{s=document.createElement("iframe"),s.className=n,s.setAttribute("scrolling","no"),s.setAttribute("marginwidth","0"),s.setAttribute("marginheight","0"),s.setAttribute("vspace","0"),s.setAttribute("hspace","0"),s.setAttribute("frameborder","0"),s.setAttribute("frameBorder","0"),s.setAttribute("style","overflow:hidden;background-color:#ffffff;border:0;width:"+t.width+"px;height:"+t.height+"px;"),s.setAttribute("width",t.width),s.setAttribute("height",t.height);var O="margin:0;position: absolute;";O+="width:"+t.width+"px;",O+="height:"+t.height+"px;";var y="<!DOCTYPE html><html><head>";y+=r(f),D||(y+=g),y+='</head><body style="'+O+'">',y+=d,y+='<script type="text/javascript">',y+=p,y+="</script>",D&&(y+=g),y+="</body></html>",u=function(){"undefined"!=typeof s.contentWindow&&null!==s.contentWindow&&(s.contentWindow.document.open(),s.contentWindow.document.write(y),s.contentWindow.document.close())}}break;case"image":a?(s="<!DOCTYPE html><html><head></head><body>",t.width=t.height="100%"):(s=document.createElement("div"),s.className=n);var Y='<img src="'+c.imageUrl+'" width="'+t.width+'" height="'+t.height+'" style="border:none;z-index:10000;" />',w=c.imageLink;"undefined"!=typeof c.imageLink&&null!=c.imageLink&&""!=c.imageLink&&("undefined"!=typeof DYO.redirects[e]&&""!=DYO.redirects[e]&&(w=DYO.redirects[e]+w),Y='<a href="'+w+'" target="'+c.imageLinkTarget+'">'+Y+"</a>"),a?(s+=Y,s+="</body></html>"):s.innerHTML=Y,u=function(){};break;case"flash":var S=!1,x="";s=document.createElement("div"),s.className=n;var I=c.imageLink;"undefined"!=typeof c.imageLink&&null!=c.imageLink&&""!=c.imageLink&&(S=!0),S&&("undefined"!=typeof DYO.redirects[e]&&""!=DYO.redirects[e]&&(I=DYO.redirects[e]+I),x="clickTAG="+escape(I));var b='  <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+t.width+'" height="'+t.height+'" id="dyFlashContent">    <param name="movie" value="'+c.imageUrl+"?"+x+'">    <param name="wmode" value="transparent">    <param name="quality" value="autohigh">    <!--[if !IE]>-->    <object type="application/x-shockwave-flash" data="'+c.imageUrl+"?"+x+'" width="'+t.width+'" height="'+t.height+'">';b+="undefined"!=typeof c.backupImageUrl&&""!=c.backupImageUrl?'    <img src="'+c.backupImageUrl+'" alt="Get Adobe Flash player" />':'      <a href="//www.adobe.com/go/getflashplayer">        <img src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />      </a>',b+="      <!--[if !IE]>-->    </object>    <!--<![endif]-->  </object>",S&&(b='<a href="'+I+'" target="'+c.imageLinkTarget+'">'+b+"</a>"),s.innerHTML=b,u=function(){};break;default:throw{code:0,tag:e,msg:'unsupported render type "'+c.renderType+'" for Smart Tag '+e+" in Smart Object "+t.id+' in variation "'+i+'"'}}return{element:s,callback:u}}function i(){if(window.DY=window.DY||{},"undefined"==typeof window.DY.geoCode){var e=DYO.StorageUtils.get("_dy_geo",["cookieStorage","sessionStorage"]);if(null!==e){var t=e.split(".");return window.DY.geoCode=t[0],void(t.length>1&&(window.DY.geoCont=t[1],window.DY.geoRegionCode=t[2],window.DY.geoCity=t[3]))}if(e=DYO.StorageUtils.get("DYGEO",["cookieStorage","sessionStorage"]),null!==e){var t=e.split(".");return window.DY.geoCode=t[0],void(t.length>1&&(window.DY.geoCont=t[1],window.DY.geoRegionCode=t[2],window.DY.geoCity=t[3]))}}}function o(){if(window.DY=window.DY||{},"undefined"==typeof window.DY.weather){var e=DYO.StorageUtils.get("_dy_weather_"+window.DY.scsec,["localStorage","cookieStorage"]),t=DYO.StorageUtils.get("_dy_cweather_"+window.DY.scsec,["localStorage","cookieStorage"]);if(null!==e)try{window.DY.weather=DYJSON.parse(e)}catch(r){}if(null!==t)try{window.DY.currentWeather=DYJSON.parse(t)}catch(r){}}}function a(){if(window.DY=window.DY||{},"undefined"==typeof window.DY.deviceInfo){var e=DYO.StorageUtils.get("_dy_device",["localStorage","cookieStorage"]);if(null!==e)try{window.DY.deviceInfo=DYJSON.parse(e)}catch(t){}}}function s(){if(window.DY=window.DY||{},"undefined"==typeof window.DY.trafficSource){var e=DYO.StorageUtils.get("_dy_tsrc",["localStorage","cookieStorage"]);null!==e&&(window.DY.trafficSource=e)}}function u(e,t){try{var r;window.XDomainRequest?(r=new XDomainRequest,r.CacheControl="no-cache",r.onerror=function(){},r.ontimeout=function(){},r.onprogress=function(){},r.onload=function(){t(r)}):r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r.onreadystatechange=function(){4===r.readyState&&t&&t(r)},r.open("GET",e,!0),r.send()}catch(n){}}function c(e){return"undefined"!=typeof e.isDoNothingCg&&e.isDoNothingCg}function d(e,r,i){var o=(DYO.StorageUtils.get("_dy_soct",["cookieStorage","localStorage"])||"").split("*"),a={};!function(){for(var e=0;e<o.length;e++){var t=o[e].split(".");if(3===t.length){var r=parseInt(t[0]);if(!isNaN(r)){var n=parseInt(t[1]);if(!isNaN(n)){var i=parseInt(t[2]);if(!isNaN(i)){var s=0/0;try{for(var u=0;u<DYO.otags[r].rules.length;u++)DYO.otags[r].rules[u].smartObject.id===n&&(s=parseInt(DYO.otags[r].rules[u].smartObject.frequency))}catch(c){}isNaN(s)||i+s<=(new Date).getTime()/1e3||(a[[r,n]]=i)}}}}}}();var s=(DYO.StorageUtils.get("_dy_sact",["localStorage"])||"").split("*");if(function(){for(var e=0;e<s.length;e++){var t=s[e].split(".");if(2===t.length){var r=parseInt(t[0]);if(!isNaN(r)){var n=parseInt(t[1]);if(!isNaN(n)){var i;try{for(var o=0;o<DYO.otags[r].rules.length;o++)i=parseInt(DYO.otags[r].rules[o].smartObject.frequency),isNaN(i)||n+i<=(new Date).getTime()/1e3||(a[[r,DYO.otags[r].rules[o].smartObject.id]]=n)}catch(u){}}}}}}(),DYO.preview.isPreviewForSmartTag(e))return void DYO.preview.previewSmartActionWithUncachedData(e);for(var u=0;u<r.length;u++){var d=r[u];if(t({rule:r[u].ruleDisjs,session:!0},{smartTagId:e})){if("undefined"!=typeof a[[e,d.smartObject.id]])break;var l="dy_unit dy_smart_object_"+d.smartObject.id;if(d.smartObject.objectType==DYO.ACTION_TYPES.OVERLAY&&!i.value||DYO.preview.isPreviewForAnotherOverlay(e,d.smartObject))return;var p=DYO.chooseMultipleVariations(d.smartObject.experiment,1)[0],f=DYO.getCurrentVersionDataStr(d.smartObject.experiment),m=DYO.Props.isCurrentlyInControlGroup(f),h=m&&d.smartObject.gaControlGroupMethod?d.smartObject.gaControlGroupMethod:null;g(e,[p],d.smartObject.variations,[{system:"GA"}],{eventName:"DY Smart Action"},d.smartObject.name,h);var v=d.smartObject.variations[p.name],D=null;if(c(v)){a[[e,d.smartObject.id]]=parseInt((new Date).getTime()/1e3);var O=d.smartObject.experiment,y=p.id,Y=f,w=DYO.Props.getCurrentAttributionProps(DYO.oexps[O]);D=function(){DYO.reportVariationImpression(O,[y]),"undefined"!=typeof window.DY.ServerUtil.logVariation_new&&window.DY.ServerUtil.logVariation_new("ri",O,[y],w,Y)}}else switch(DYO.Params.initParams(v.params),d.smartObject.objectType){case DYO.ACTION_TYPES.OVERLAY:!function(){try{if(i.value){i.value=!1;var t=n(e,d.smartObject,l,p.name,!0,!1),r=DYO.getPropsForOverlaysAndNotification(e,d.smartObject),o=d.smartObject.experiment,s=p.id,u=f,c=DYO.Props.getCurrentAttributionProps(DYO.oexps[o]),m=t.callback;t.callback=function(){DYO.reportVariationImpression(o,[s]),"undefined"==typeof window.DY.AdDetection.markExpUnit_new?window.DY.AdDetection.markExpUnit(t.element,o,s,!1,!1,u):window.DY.AdDetection.markExpUnit_new(t.element,o,s,!1,u,void 0,c),m()},D=function(){window.DY.WindowActions.overlay(t,r)},a[[e,d.smartObject.id]]=parseInt((new Date).getTime()/1e3)}}catch(g){i.value||(i.value=!0)}}();break;case DYO.ACTION_TYPES.NOTIFICATION:!function(){try{var t=n(e,d.smartObject,l,p.name,!0,!1),r=DYO.getPropsForOverlaysAndNotification(e,d.smartObject),i=d.smartObject.experiment,o=p.id,s=f,u=DYO.Props.getCurrentAttributionProps(DYO.oexps[i]),c=t.callback;t.callback=function(){DYO.reportVariationImpression(i,[o]),"undefined"==typeof window.DY.AdDetection.markExpUnit_new?window.DY.AdDetection.markExpUnit(t.element,i,o,!1,!1,s):window.DY.AdDetection.markExpUnit_new(t.element,i,o,!1,s,void 0,u),c()},D=function(){window.DY.WindowActions.notify(t,r)},a[[e,d.smartObject.id]]=parseInt((new Date).getTime()/1e3)}catch(m){}}();break;case DYO.ACTION_TYPES.JAVASCRIPT:!function(){try{var t=d.smartObject.experiment,r=p.id,n=f,i=DYO.Props.getCurrentAttributionProps(DYO.oexps[t]),o={};try{o=DYJSON.parse(decodeURIComponent(v.resources))}catch(s){}DYO.loadExternalResources(o),DYO.CoreUtils.safeEval("(function(){"+DYO.Params.searchAndReplace("js",v.jsCode)+"\n})();"),a[[e,d.smartObject.id]]=parseInt((new Date).getTime()/1e3)}catch(u){}D=function(){DYO.reportVariationImpression(t,[r]),"undefined"==typeof window.DY.ServerUtil.logVariation_new?window.DY.ServerUtil.logVariation("ri",t,[r],!1,!1,n):window.DY.ServerUtil.logVariation_new("ri",t,[r],i,n)}}();break;case DYO.ACTION_TYPES.MOBILE_JAVASCRIPT:case DYO.ACTION_TYPES.MOBILE_OVERLAY:!function(){try{if("undefined"!=typeof DY.MobileConditionsState&&"undefined"!=typeof DY.MobileConditionsState.screens&&null!==DY.MobileConditionsState.screens&&DY.MobileConditionsState.screens.length>0&&""!==DY.MobileConditionsState.screens[DY.MobileConditionsState.screens.length-1]&&(i.value||d.smartObject.objectType==DYO.ACTION_TYPES.MOBILE_JAVASCRIPT)){d.smartObject.objectType==DYO.ACTION_TYPES.MOBILE_OVERLAY&&(i.value=!1);var t=null;t=d.smartObject.objectType==DYO.ACTION_TYPES.MOBILE_OVERLAY?n(e,d.smartObject,l,p.name,!0,!1):{element:DYO.Params.searchAndReplace("js",v.jsCode),callback:null};var r=d.smartObject.experiment,o=p.id;D=null;var s={smartTagId:e,screenId:"undefined"!=typeof DY.MobileConditionsState&&"undefined"!=typeof DY.MobileConditionsState.screens?DY.MobileConditionsState.screens[DY.MobileConditionsState.screens.length-1]:"",selectedVar:{variation:t.element,expId:r,varId:o,attributionProps:DYO.Props.getCurrentAttributionProps(DYO.oexps[r]),versionData:f,renderType:d.smartObject.objectType==DYO.ACTION_TYPES.MOBILE_OVERLAY?"html":"json",width:d.smartObject.width,height:d.smartObject.height,background:d.smartObject.background,opacity:d.smartObject.opacity,position:d.smartObject.position,duration:d.smartObject.duration,delay:d.smartObject.delay,closing:d.smartObject.closing,speed:d.smartObject.showAnimationDuration||200,disappearSpeed:d.smartObject.showAnimation||200,disappearAnimation:d.smartObject.disappearAnimation?d.smartObject.disappearAnimation:1,appearAnimation:d.smartObject.appearAnimation?d.smartObject.appearAnimation:1}};DYO.MobileBridge.triggerInAppNotification(JSON.stringify(s)),a[[e,d.smartObject.id]]=parseInt((new Date).getTime()/1e3)}}catch(u){i.value||d.smartObject.objectType!=DYO.ACTION_TYPES.MOBILE_OVERLAY||(i.value=!0)}}()}null!=D&&window.DY.API("callback",D);break}}o=[];for(var S in a){var x=S.split(",");o.push(x[0]+"."+x[1]+"."+a[S])}o.length>0?DYO.StorageUtils.set("_dy_soct",o.join("*"),["cookieStorage","localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain(),expire:365}):DYO.StorageUtils.remove("_dy_soct",["cookieStorage","localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain()}),DYO.StorageUtils.remove("_dy_sact",["cookieStorage","localStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain()})}function l(){$dy(function(){try{document.body.appendChild(document.createElement("script")).src="//cdn.dynamicyield.com/preview/bookmarklet.js"}catch(e){}})}function p(e,t,r,n,i,o){var a=[];for(var s in e)for(var u=0;u<t.length;++u)t[u].name==s&&a.push(e[s]);m(r,a,n,i,o)}function f(e){var t="Control Group: ",r={no_action:t+"No Action",random:t+"Random",explicit:e.length>1?t+"Multiple variations":t+decodeURIComponent(e[0].name)};return r}function m(e,t,r,n,i){if(DYO.otags[r].gaScriptType)try{var o=f(t);i&&(t=[t[0]]);for(var a=0;a<t.length;++a){var s=t[a];"universal"==DYO.otags[r].gaScriptType?!function(t){function a(){try{var a=i?o[i]:decodeURIComponent(t.name);window.ga("send","event",e,decodeURIComponent(DYO.otags[r].displayName),decodeURIComponent(n)+" ("+a+")",{nonInteraction:1})}catch(s){}}function s(){"undefined"!=typeof window.ga?a():setTimeout(s,100)}s()}(s):"classic"==DYO.otags[r].gaScriptType?!function(t){function a(){try{var a=i?o[i]:decodeURIComponent(t.name);window._gaq.push(["_trackEvent",e,decodeURIComponent(DYO.otags[r].displayName),decodeURIComponent(n)+" ("+a+")",void 0,!0])}catch(s){}}function s(){"undefined"!=typeof window._gaq?a():setTimeout(s,100)}s()}(s):"tag_manager"==DYO.otags[r].gaScriptType&&!function(t){if(DYO.otags[r].tagManagerData)try{var a=DYO.otags[r].tagManagerData.data_layer_name;window[a]=window[a]||[];var s=i?o[i]:decodeURIComponent(t.name);window[a].push({event:DYO.otags[r].tagManagerData.data_event_name,eventCategory:e,eventAction:decodeURIComponent(DYO.otags[r].displayName),eventLabel:decodeURIComponent(n)+" ("+s+")"})}catch(u){}}(s)}}catch(u){}}function g(e,t,r,n,i,o,a){for(var s=0;s<n.length;++s)switch(n[s].system){case"GA":p(r,t,i.eventName,e,o,a);break;default:return!1}}function h(){try{return DY.loggedInSites&&DY.loggedInSites.length>0&&DY.loggedInSites.indexOf("adm")>-1}catch(e){return!1}}function v(){try{h()&&DY.Util.isDesktop()&&("undefined"==typeof DY.slim||"true"!=DY.slim)&&$dy(function(){try{document.body.appendChild(document.createElement("script")).src="//cdn.dynamicyield.com/onsite/init.js"}catch(e){}})}catch(e){}}DYO.setRemoteParameters=function(e){try{for(var t=0;t<e.length;t++)"undefined"!=typeof e[t]&&"undefined"!=typeof e[t].paramName&&("undefined"==typeof e[t].paramType?(DYO.setRemoteParameter("html",e[t].paramName,e[t].paramValue),DYO.setRemoteParameter("css",e[t].paramName,e[t].paramValue),DYO.setRemoteParameter("js",e[t].paramName,e[t].paramValue)):DYO.setRemoteParameter(e[t].paramType,e[t].paramName,e[t].paramValue))}catch(r){}},DYO.setRemoteParameter=DYO.Params.setParam,DYO.loadExternalResources=function(e){var t,r=document.getElementsByTagName("head")[0];if(e&&e.css)for(var n=0;n<e.css.length;n++)t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e.css[n]),r.appendChild(t);if(e&&e.js)for(var n=0;n<e.js.length;n++)t=document.createElement("script"),t.setAttribute("type","text/javascript"),t.setAttribute("src",e.js[n]),r.appendChild(t)},DYO.loadServerData=function(e){i(),o(),a(),s(),e()},DYO.getTagVariationProperties=function(e){var r=e;if("number"!=typeof r){for(var n in DYO.otags)if(DYO.otags[n].name==r){r=parseInt(n);break}"number"!=typeof r&&(r=parseInt(r))}var i=DYO.otags[r];if("undefined"==typeof i||null==i)return{code:0,tag:e,msg:"Smart Tag "+e+" not found"};var o=null;for(var a in i.rules)if(null==i.rules[a].ruleDisjs||t({rule:i.rules[a].ruleDisjs,session:!0},{smartTagId:r})){o=i.rules[a].smartObject;break}if(null==o)throw{code:0,tag:e,msg:"no rule matched for Smart Tag "+e};var s=DYO.getVariationData(o.experiment);if("undefined"!=typeof s.value&&null!=s.value){var u=s.value.name,c=s.value.name,d=i.rules[a].smartObject.variations[s.value.name];return{code:1,tag:e,variation:{id:u,name:c,display:d}}}return{code:0,tag:e,msg:"no variation found for tag"}},DYO.redirects={},DYO.addRedirect=function(e,t){try{if("number"!=typeof e){for(var r in DYO.otags)if(DYO.otags[r].name==e){e=parseInt(r);break}"number"!=typeof e&&(e=parseInt(e))}DYO.redirects[e]=t,DYO.setRemoteParameter("html","rdclick",t),DYO.setRemoteParameter("css","rdclick",t),DYO.setRemoteParameter("js","rdclick",t),DYO.setRemoteParameter("html","dy_rdclick",t),DYO.setRemoteParameter("css","dy_rdclick",t),DYO.setRemoteParameter("js","dy_rdclick",t)}catch(n){return{code:0,tag:e,msg:"error while executing add redirect on tag "+e,ex:n}}},DYO.smartTag=function(e,t,r,n){DYO.smartObject(e,{target:t,inline:r,afterRenderCallback:n})},DYO.smartObject=function(e,r){var i=0,o=1,a=2,s=100;try{if("string"==typeof r)try{r=DYJSON.parse(r)}catch(d){r={}}if("object"!=typeof r&&(r={}),r.inline!==!0&&(r.inline=!1),"number"!=typeof e){for(var l in DYO.otags)if(DYO.otags[l].name==e){e=parseInt(l);break}"number"!=typeof e&&(e=parseInt(e))}var p=DYO.otags[e];if("undefined"==typeof p||null==p||"tag"!==p.subType)return{code:0,tag:e,msg:"Smart Tag "+e+" not found"};if(p.autoArchived){var f="//st.dynamicyield.com/ffst?&smt="+e;if(null!=p.smartObjects){f+="&exps=";for(var m in p.smartObjects){var h=p.smartObjects[m].experiment;f+=h+","}f=f.substring(0,f.length-1)}return void u(f,function(t){try{DYO.CoreUtils.safeEval(t.response)}catch(n){DY.API("internal_error",{name:"Error when trying to force fetch an auto archived smart tag. smtId: "+e,error:n})}DYO.otags[e]=DYExps.otags[e];for(var i in DYExps.oexps)DYO.oexps[i]=DYExps.oexps[i];"undefined"==typeof DYO.otags[e].autoArchived&&DYO.smartObject(e,r)})}var v={};DYO.SmartsPreWork.waitForDependencies(p,e,{},function(){DYO.loadServerData(function(){if(DYO.preview.isPreviewForSmartTag(e))return DYO.preview.previewSmartObjectWithUncachedData(e,r);for(var u=null,d=0;d<p.rules.length;d++)if(null==p.rules[d].ruleDisjs||t({rule:p.rules[d].ruleDisjs,session:!0},{smartTagId:e})){u=p.rules[d].smartObject;break}if(null==u)throw{code:0,tag:e,msg:"no rule matched for Smart Tag "+e};var l,f,m=function(){},h=u.slideCount;if("undefined"==typeof h||null==h||0==h){var D=Object.keys(u.variations);h=D.length;for(var O=0;O<D.length;O++)c(u.variations[D[O]])&&h--}var y=u.autoScrollSpeed;("undefined"==typeof y||null==y||0==y)&&(y=0);var Y="dy_unit dy_smart_object_"+u.id,w=function(t,d){function h(){"undefined"==typeof window.DY||"undefined"==typeof window.DY.AdDetection||"undefined"==typeof $dy||"undefined"==typeof $dy(window)||1===u.objectType&&"undefined"==typeof $dy.renderSmartTagSlider?setTimeout(h,100):m()}try{var D=!1;switch(u.objectType){case i:if(d)var O=DYO.oexps[u.experiment].variations[0];else var O=DYO.chooseMultipleVariations(u.experiment,1)[0];var w=O.name,S=n(e,u,Y,w,r.inline);if(l=S.element,f=S.callback,D=c(u.variations[w]),!d){for(var x=DYO.getCurrentVersionDataStr(u.experiment),I=DYO.Props.isCurrentlyInControlGroup(x),b={eventName:DY.isLP==e?"DY Landing Page":"DY Smart Object"},_=0;_<p.rules.length;++_){var E=I&&p.rules[_].smartObject.gaControlGroupMethod?p.rules[_].smartObject.gaControlGroupMethod:null;g(e,[{name:w}],p.rules[_].smartObject.variations,[{system:"GA"}],b,p.rules[_].smartObject.name,E)}var C=DYO.Props.getCurrentAttributionProps(DYO.oexps[u.experiment]);DYO.reportVariationImpression(u.experiment,[O.id]),m=function(){var e=u.experiment,t=O.id;u.variations[w].doNotMarkUnit!==!0?"undefined"==typeof window.DY.AdDetection.markExpUnit_new?window.DY.AdDetection.markExpUnit(l,e,t,!1,!1,x):window.DY.AdDetection.markExpUnit_new(l,e,t,!1,x,void 0,C):"undefined"==typeof window.DY.ServerUtil.logVariation_new?window.DY.ServerUtil.logVariation("ri",e,[t],!1,!1,x):window.DY.ServerUtil.logVariation_new("ri",e,[t],C,x)}}break;case o:D=c(u.variations[t[0].name]),l=document.createElement("div"),l.className=Y,f=function(){};for(var P=function(){},A=[],T=[],_=0;_<t.length;_++){var S=n(e,u,"",t[_].name,r.inline);!function(){var e=P,t=S.callback;P=function(){e(),t()}}(),A.push({element:S.element,variation:t[_].id}),T.push({id:t[_].id,idx:_})}var x=DYO.getCurrentVersionDataStr(u.experiment);if(!d)for(var b={eventName:DY.isLP==e?"DY Landing Page":"DY Smart Object"},I=DYO.Props.isCurrentlyInControlGroup(x),_=0;_<p.rules.length;++_){var E;I&&p.rules[_].smartObject.gaControlGroupMethod&&(E=p.rules[_].smartObject.gaControlGroupMethod),g(e,t,p.rules[_].smartObject.variations,[{system:"GA"}],b,p.rules[_].smartObject.name,E)}var C=DYO.Props.getCurrentAttributionProps(DYO.oexps[u.experiment]);DYO.reportVariationImpression(u.experiment,T),m=function(){$dy.renderSmartTagSlider(l,{expId:u.experiment,width:u.width,height:u.height,scrollSpeed:y,versionDataStr:x,attributionProps:C},A),P()};break;case a:D=c(u.variations[t[0].name]),l=document.createElement("div"),f=function(){};for(var N=[],U=[],_=0;_<t.length;_++){var S=n(e,u,Y+"_"+t[_].id,t[_].name,r.inline);if(l.appendChild(S.element),function(){var e=f,t=S.callback;f=function(){e(),t()}}(),N.push({element:S.element,variation:t[_]}),_+1<t.length){var k=document.createElement("div");k.innerHTML=decodeURIComponent(u.htmlSeparator);for(var M=0;M<k.childNodes.length;M++)l.appendChild(k.childNodes[M])}U.push({id:t[_].id,idx:_})}if(!d){for(var x=DYO.getCurrentVersionDataStr(u.experiment),b={eventName:DY.isLP==e?"DY Landing Page":"DY Smart Object"},I=DYO.Props.isCurrentlyInControlGroup(x),_=0;_<p.rules.length;++_){var E;I&&p.rules[_].smartObject.gaControlGroupMethod&&(E=p.rules[_].smartObject.gaControlGroupMethod),g(e,t,p.rules[_].smartObject.variations,[{system:"GA"}],b,p.rules[_].smartObject.name,E)}var C=DYO.Props.getCurrentAttributionProps(DYO.oexps[u.experiment]);DYO.reportVariationImpression(u.experiment,U),m=function(){for(var e=u.experiment,t=0;t<N.length;t++)u.variations[N[t].variation.name].doNotMarkUnit!==!0?"undefined"==typeof window.DY.AdDetection.markExpUnit_new?window.DY.AdDetection.markExpUnit(N[t].element,e,N[t].variation.id,!0,!1,x,t):window.DY.AdDetection.markExpUnit_new(N[t].element,e,N[t].variation.id,!0,x,t,C):"undefined"==typeof window.DY.ServerUtil.logVariation_new?window.DY.ServerUtil.logVariation("ri",e,[N[t].variation.id],!1,!1,x):window.DY.ServerUtil.logVariation_new("ri",e,[N[t].variation.id],C,x);window.DY.AdDetection.ne()}}break;case s:var w="",V=null;if("undefined"==typeof r.previewVar){var j=DYO.chooseVariation(u.experiment);if("undefined"==typeof DYO.oexps[u.experiment]||"undefined"==typeof DYO.oexps[u.experiment].variations[j])throw{type:"invalid position",vari:j};w=DYO.oexps[u.experiment].variations[j].name,V=DYO.oexps[u.experiment].variations[j].id}else w="_dy_so_mobile_preview",V=-1,u.variations[w]=r.previewVar;var S=n(e,u,Y,w,null,!0);v={selectedVar:S.element,expId:u.experiment,varId:V,attributionProps:DYO.Props.getCurrentAttributionProps(DYO.oexps[u.experiment]),versionData:DYO.getCurrentVersionDataStr(u.experiment)},f=function(){},m=null;break;default:throw{code:0,tag:e,msg:'unsupported object type "'+u.objectType+'" for Smart Tag '+e+" in Smart Object "+u.id}}}catch(R){throw"invalid position"==R.type?{code:0,tag:e,msg:'invalid variation position "'+R.vari+'" for Smart Tag '+e+" in Smart Object "+u.id}:R}r.returnVar||D||DYO.CoreUtils.insertElement(l,r.target),f(),"function"==typeof r.afterRenderCallback&&r.afterRenderCallback(),null!==m&&h()};switch(u.experimentMode){case"affinity":var S=!1,x=function(){if(!S){for(var e in u.variations)DYO.oexps[u.experiment].variations.push({id:0,name:e.toString()});S=!0,w(DYO.oexps[u.experiment].variations,!0)}};setTimeout(x,1e4),window.DY.API("callback",function(){S||window.DY.ServerUtil.getJSON("//st."+window.DY.server+"/vaff",{sec:window.DY.section,dyid:window.DY.dyid,so:u.id},function(e,t){if(!S&&!e){var r=Object.keys(u.variations)[0],n=u.variations[r];u.variations={};for(var i=0;i<t.length;i++)DYO.oexps[u.experiment].variations.push({id:t[i].expVarId,name:t[i].varId.toString()}),u.variations[t[i].varId]={htmlCode:n.htmlCode,cssCode:n.cssCode,jsCode:n.jsCode,name:t[i].varName,params:encodeURIComponent(DYJSON.stringify({html:t[i].varParams,css:t[i].varParams,js:t[i].varParams})),renderType:n.renderType,resources:n.resources};var o={};o[DYO.OPTION_FORCE_CALCULATION]=!0,DYO.chooseMultipleVariations(u.experiment,DYO.oexps[u.experiment].variations.length,o),S=!0,w(DYO.oexps[u.experiment].variations)}})});break;default:var I=new Array;if(u.objectType!==i&&u.objectType!==s)if("undefined"==typeof u.pinnedVariation)I=DYO.chooseMultipleVariations(u.experiment,h);else if(h>1){if(I=DYO.getDynamicVariations(u.experiment,DYO.Props.expProgVersionData(DYO.oexps[u.experiment])),null==I||I.length!=h||I[0].id!=u.pinnedVariation.id&&!c(u.variations[I[0].name])){I=DYO.chooseMultipleVariations(u.experiment,h-1),c(u.variations[I[0].name])||I.unshift(u.pinnedVariation);for(var b=new Array,_=0;_<I.length;_++)b.push(I[_].id+":"+I[_].name);DYO.setVariations(u.experiment,DYO.Props.expProgVersionData(DYO.oexps[u.experiment]),b)}}else{I=DYO.getDynamicVariations(u.experiment,DYO.Props.expProgVersionData(DYO.oexps[u.experiment]));var E=null!=I&&I.length>0?I[0]:u.pinnedVariation;if(null==I||1!=I.length||I[0].id!=u.pinnedVariation.id&&!c(u.variations[I[0].name])){var b=new Array;I=DYO.chooseMultipleVariations(u.experiment,1);var C=u.pinnedVariation.id+":"+u.pinnedVariation.name;I.length>0&&c(u.variations[I[0].name])&&(C=I[0].id+":"+I[0].name,E=I[0]),b.push(C),DYO.setVariations(u.experiment,DYO.Props.expProgVersionData(DYO.oexps[u.experiment]),b)}I=[E]}w(I)}})});var D={code:1,tag:e,msg:"executing make Smart Tag on tag "+e};return r.returnVar&&(D.soProps=v),D}catch(d){return{code:0,tag:e,msg:"error while executing make Smart Tag on tag "+e,ex:d}}},DYO.ACTION_TYPES={OVERLAY:3,NOTIFICATION:4,JAVASCRIPT:5,MOBILE_OVERLAY:103,MOBILE_JAVASCRIPT:105},DYO.executeSmartActions=function(e){var t=window.location&&window.location.search||"";try{e&&window.DY.API("sub",{on:"dy-pageview",callback:function(){DYO.executeSmartActions(!1)}})}catch(r){}try{var n={value:!0};for(var i in DYO.otags)try{var o=new RegExp("[?&]_dy_ssae="+i+"(&|$)","i");if(o.test(t))continue;if("action"!==DYO.otags[i].subType)continue;if(!e&&DYO.otags[i].isSPACompat!==!0)continue;!function(){var e=i,t=DYO.otags[e].rules;DYO.SmartsPreWork.executeWithPageEvents(DYO.otags[e],e,function(){DYO.loadServerData(function(){d(e,t,n)})})}()}catch(r){DYO.d&&DY.API("internal_error",{name:"error while executing Smart Action "+i,error:r})}return{code:1,msg:"executed Smart Actions"}}catch(r){return{code:0,msg:"error while executing Smart Actions",ex:r}}return{code:1,msg:"executed Smart Actions"}},DYO.renderSmartObjectVariation=function(e,t,r,i,o){try{if(o=o||{},"number"!=typeof e){for(var a in DYO.otags)if(DYO.otags[a].name==e){e=parseInt(a);break}"number"!=typeof e&&(e=parseInt(e))}var s=DYO.otags[e];if("undefined"==typeof s||null==s)return{code:0,tag:e,msg:"Smart Tag "+e+" not found"};var u=s.rules[r].smartObject,c="";switch(u.objectType){case 0:case 3:case 4:c="dy_unit dy_smart_object_"+u.id,o.inline=!0;break;case 5:c="dy_unit dy_smart_object_"+u.id;break;case 1:c="";break;case 2:c="dy_unit dy_smart_object_"+u.id;break;default:throw{code:0,tag:e,msg:'unsupported object type "'+u.objectType+'" for Smart Tag '+e+" in Smart Object "+u.id}}var d=n(e,u,c,i.id,o.inline);return{el:d.element,cb:d.callback}}catch(l){return{code:0,tag:e,msg:"error while executing make Smart Tag on tag "+e,ex:l}}},DYO.getPropsForOverlaysAndNotification=function(e,t){var r={smartTagId:e,position:t.position,background:t.background,opacity:t.opacity,delay:t.delay,duration:t.duration,closing:t.closing,showDuration:t.showDuration||200,hideDuration:t.hideDuration||200,showAnimation:t.showAnimation||1,hideAnimation:t.hideAnimation||1};return r},DYO.getRenderedObjectsOnPage=function(){var e=document.querySelectorAll("[data-dy-var-id]"),t={};for(var r in DYO.oexps)for(var n in DYO.oexps[r].variations){var i=DYO.oexps[r].variations[n].name;isNaN(parseInt(i))||(t[DYO.oexps[r].variations[n].id]=parseInt(i))}for(var o={},a=0;a<e.length;a++){var s=e[a].getAttribute("data-dy-var-id");if(s){var u=t[s];if(u)for(var c in DYO.otags){var d=DYO.otags[c].rules;if(d)for(var l=0;l<d.length;l++)if(d[l].smartObject.variations[u]){o[c]=o[c]||{name:DYO.otags[c].name,so:d[l].smartObject,variations:[]};var p=d[l].smartObject.variations[u];p.varName=u,p.name=decodeURIComponent(p.name),o[c].variations.push(p)}}}}return o},DYO.smartPlacement=function(e,t){try{var r,n,i=!1,o=!1;if(!t.target)throw"Illegal call to smartPlacement, no target is defined";for(n in DYO.otags)for(r=0;r<DYO.otags[n].placements.length;r++)if(DYO.otags[n].placements[r]==e){i=parseInt(n);break}if(!i)for(n in DYO.rcom.widgets)for(r=0;r<DYO.rcom.widgets[n].placements.length;r++)if(DYO.rcom.widgets[n].placements[r]==e){o=parseInt(n);break}if(!i&&!o)throw"Couldn't find object id for placement: "+e;i?DYO.smartObject(i,t):o&&DYO.recommendationWidget(o,t)}catch(a){return{code:0,placement:e,msg:"error while executing placement on placement id: "+e,ex:a}}},DYO.getUserObjectsAndVariations=function(){function e(e){var t=parseInt(e.objectType);switch(t){case 0:return"SmartObject - Single";case 1:return"SmartObject - Slider";case 2:return"SmartObject - ItemList";case 3:return"SmartAction - Overlay";case 4:return"SmartAction - Notification";case 5:return"SmartAction - Javascript Action";default:return"SmartObject"}}function t(t){var n=r[t];if(n){var i=DYO.otags[n.tId];if(i){var o=i.name;if(o.indexOf("_dy_collection_inject")>-1||o.indexOf("Smart_Action_For_Placement_")>-1)return}var a=DYO.otags[n.tId].rules[n.rIdx].smartObject;s[n.tId]=s[n.tId]||{tagId:n.tId,variations:[],ruleName:decodeURIComponent(a.name),ruleId:a.id,tagName:DYO.otags[n.tId].name,objectType:e(a)};var u=a.variations[t];s[n.tId].variations.push({id:t,name:decodeURIComponent(u.name)})}}var r={};for(var n in DYO.otags){var i=DYO.otags[n].rules;if(i)for(var o=0;o<i.length;o++)for(var a in i[o].smartObject.variations)r[a]={rIdx:o,tId:n}}var s={},u=DYO.exps;for(var n in DYO.exps)try{var c=u[n].split("|")[2].split(",");c.forEach(function(e){t(e.split(":")[1])})}catch(d){}var l=[];for(var p in s){var f=s[p];l.push({objectId:parseInt(p),objectName:f.tagName,conditionName:f.ruleName,conditionId:f.ruleId,objectType:f.objectType,variations:f.variations.map(function(e){return e.name}),variationIds:f.variations.map(function(e){return parseInt(e.id)})})}return l},DYO.isInAudience=t;try{-1!==location.href.indexOf("__dy__open_bookmarklet=true")&&h()&&DY.API("callback",l)}catch(D){}DY.API("callback",v)}(),function(){function e(e){function t(e){return{id:e.id,type:e.type,slots:e.slots,isContextAware:e.isContextAware}}function r(e){var t=Date.now();return e.valid_from<=t&&(null===e.valid_to||e.valid_to>=t)}var n=[];if(!e||e.length<=0)return n;for(var i=0;i<e.length;i++){var o=e[i];r(o)&&(null===o.ruleDisjs?n.push(t(o)):DYO.isInAudience({rule:o.ruleDisjs,session:!0})&&n.push(t(o)))}return n}function t(e){var t=DYO.rcom||{},r=t.widgets||{};for(var n in r)if(n==e)return r[e];return!1}function r(e){for(var t=e.slots,r=1,n=[],i=r,o=!1,a=0;a<t.length;a++){var s=t[a];n.push(s.item),o||-1!=s.strId&&(i=s.strId,o=!0)}var u=[{items:n,id:i,name:e.name}];return delete e.slots,e.strategies=u,e}function n(e){for(var t={},r={},n=e.slots,i=0;i<n.length;i++){var o=n[i],a=o.item.sku;t[a]=o.strId,r[o.strId]=1}var s=[];for(var u in r)r.hasOwnProperty(u)&&s.push(u);var c=s;return function(e){var r=[];switch(e.type){case"WRIMP":r.push(e);break;case"WIMP":for(var n=0;n<c.length;n++){var i=c[n];r.push({type:e.type,strId:i})}break;case"PIMP":case"PRIMP":case"PCLICK":for(var o=e.pId,n=0;n<c.length;n++){for(var i=c[n],a={type:e.type,pId:[],strId:i},s=0;s<o.length;s++){var u=o[s];t[u]==i&&a.pId.push(u)}a.pId.length>0&&r.push(a)}}return r}}function i(e){return e.attr("data-dy-widget-id")}function o(e){return e.find("[data-dy-product-id]")}function a(e){for(var t=[],r=e,n=0;n<r.length;n++)t.push(r[n].sku);return t}function s(e){for(var t=[],r=0;r<e.length;r++)t.push($dy(e[r]).attr("data-dy-product-id"));return t}DYO.recommendationsUtils={backwardCompRcomResponse:r,getWidgetElementId:i,createEventStrategySplitter:n,extractSkusFromArrayOfObjs:a,extractProductIdsFromElemnts:s,getMatchedRules:e,findWidgetById:t,findProductElements:o}}(),function(e){function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function r(){DY.recommendationContext!==e&&(M=DY.recommendationContext,j=!0,g(),I())}function n(e){var t=DYO.rcom||{},r=t.tpls||{};for(var n in r)if(n==e)return r[e];return!1}function i(e,t){var r=$dy(e.options.target);if(0===r.length)throw{msg:"Could not find target element for widget "+e.id+" target: "+e.options.target};var i=n(t.widgetTplId);if(!i)throw{msg:"Could not find template id "+t.widgetTplId};var o=s(i,t.staticParams,!0);return o.attr({"data-dy-widget-id":t.id,"data-dy-feed-id":t.feedId}),o.data("dyCtx",t.options.context||M),{target:r,widget:o}}function o(e,r){for(var n in r){var i=r[n];if("object"!=typeof i&&"function"!=typeof i){var o=new RegExp("\\$\\{"+t(n)+"\\}","g");e=e.replace(o,i)}}return e}function a(t,r){var n=t.data("dy-strategy-tpl");if(null===n||n===e){var i=t.find("[data-dy-strategy-container]");0===i.length&&(i=t.find("[data-dy-recommendation-item-container]"),i.attr("data-dy-strategy-container","")),i=i.parent(),n=o(i.html(),r),i.html(n),t.data("dy-strategy-tpl",n)}else t.find("[data-dy-strategy-container]").parent().append(n);var a=t.find("[data-dy-strategy-container]").last();return a.attr("data-dy-strategy-id",r.id),a}function s(t,r,n){(r===e||null===r)&&(r={});var i=o(t.html,r),a=$dy(i),s=null==t.css?null:o(t.css,r);if(null!==s){var u=$dy('<style rel="stylesheet">'+s+"</style>");a.prepend(u)}if(n===!0){var c=null==t.js?null:o(t.js,r);if(null!==c){var d=$dy('<script type="text/javascript">'+c+"</script>");a.prepend(d)}}return a}function u(t,r,n,i){for(var o=[],a=t.find("[data-dy-recommendation-item-container]"),u=0;u<r.length;u++){var c=!1;0===i&&0===u&&(c=!0);var d=s(n,r[u],c);d.attr("data-dy-product-id",r[u].sku);var l=r[u]._dy_decision;l!==e&&d.attr("data-dy-rcom-decision",encodeURIComponent(k.stringify(l))),o.push(d),a.append(d),d.mousedown(D)}return o}function c(e,t,r){var i=e.itemTplId,o=n(i);if(!o)throw{msg:"Failed to find item template id:"+e.itemTplId};for(var s=r.strategies,c=[],d=0;d<s.length;d++){var l=a(t.widget,s[d]);c.push(l[0]);for(var f=r.strategies[d].items,m=u(l,f,o,d),g=0;g<m.length;g++)c.push(m[g][0])}var h=DYO.recommendationsUtils.extractSkusFromArrayOfObjs;p(r.wId,r.fId,M,h(r.strategies[0].items)),DY.AdDetection.monitorInView(c,Y)}function d(e,t){var r={wId:e.id,fId:e.feedId,maxProducts:e.numOfItems,rules:DYO.recommendationsUtils.getMatchedRules(e.rules),ctx:e.options.context||M},n={sec:DY.scsec,uid:DY.dyid,data:k.stringify(r),v:1},i=e.skusOnly;i&&(n.skusOnly=i),DY.ServerUtil.getJSON("//rcom."+DY.server+"/recommend",n,function(r,n){return r?t(r):(l(e.id,n),void t(null,DYO.recommendationsUtils.backwardCompRcomResponse(n)))})}function l(e,t){t.expData&&null!==t.expData.expId&&DYO.setVariation(String(t.expData.expId),String(t.expData.varId)),B[e]=DYO.recommendationsUtils.createEventStrategySplitter(t),W[e]=t.expData,G[e]=t.fallback,J[e]=t.fId,$[e]=t.slots&&t.slots[0]&&t.slots[0].strId||0,H[e]=!0}function p(e,t,r,n){if(!L[e]){R=R||{};var i=R[e];"undefined"==typeof i&&(i=R[e]={fId:t,events:[],ctx:r||M}),i.events.push({type:"WIMP"}),i.events.push({type:"PIMP",pId:n}),L[e]=!0}}function f(t){if(DYO.translations===e)return"";var r=DY.recommendationContext.lng;return r=r?r.split("_")[0]:q,DYO.translations[t]?DYO.translations[t][r]||DYO.translations[t][q]:""}function m(e){if(!j)return void V.push(e);var t=e.id;e.options="object"==typeof e.options?e.options:{};var r=DYO.recommendationsUtils.findWidgetById(t);if(r.id=t,!r)throw{msg:"Could not find widget with id "+t};r.options=e.options;var n=i(e,r);d(r,function(e,t){if(null!==e)DY.API("internal_error",{name:"recommendations error - rcom server returned !== 200",error:e});else{if(t.strategies)for(var i=t.strategies,o=0;o<i.length;o++){var a=i[o];if(a.name){var s=a.items;a[F]=f(a.name);for(var u=0;u<s.length;u++)s[u][F]=a[F]}}n.target.empty(),n.target.append(n.widget),c(r,n,t)}})}function g(){for(var t=V.pop();t!==e;){try{m(t)}catch(r){DY.API("internal_error",{name:"recommendations drawing error",error:r})}t=V.pop()}}function h(){U=window.$dy,k=window.DYJSON,DY.recommendationContext!==e?r():DY.PubSub.sub({on:"recommendationContextChanged",callback:function(){r()}})}function v(e){var t,r=U(e),n=r.parents("[data-dy-widget-id]"),i=n.attr("data-dy-widget-id"),o=J[i];t=$[i],t||(t=r.parents("[data-dy-strategy-id]").attr("data-dy-strategy-id")),R=R||{};var a=R[i];return"undefined"==typeof a&&(a=R[i]={fId:o,events:[],ctx:n.data("dyCtx")}),{reportItem:a,widgetId:i,feedId:o,strategyId:t}}function D(){var e="PCLICK",t=U(this);x(this);var r=v(t,!1),n=S(t);r.reportItem.events.push({type:e,strId:r.strategyId,pId:[n]})}function O(e){var t="WRIMP",r=v(e);Z.shouldLogWidgetView(r.widgetId,r.strategyId)&&r.reportItem.events.push({type:t,strId:r.strategyId})}function y(e){var t="WRIMP";R=R||{};var r=e.attr("data-dy-widget-id"),n=R[r];"undefined"==typeof n&&(n=R[r]={fId:J[r],events:[],ctx:e.data("dyCtx")});var i={reportItem:{widgetId:n},widgetId:r,feedId:J[r],strategyId:$[r]};Z.shouldLogWidgetView(i.widgetId,i.strategyId)&&i.reportItem.events.push({type:t,strId:i.strategyId})}function Y(t){t=U(t),t.attr("data-dy-product-id")!==e?(x(t),O(t)):t.attr("data-dy-widget-id")!==e?y(t):O(t)}function w(e,t,r){for(var n=0;n<r.length;n++)if(r[n].strId==t&&r[n].type==e)return r[n];return!1}function S(t){var r=t.attr("data-dy-product-id"),n=t.attr("data-dy-rcom-decision");if(n!==e)try{r={id:r,decision:k.parse(decodeURIComponent(n))}}catch(i){}return r}function x(e){var t="PRIMP",r=U(e),n=v(e),i=S(r);if(Z.shouldLogProductView(n.widgetId,i)){var o=w(t,n.strategyId,n.reportItem.events);o?o.pId.push(i):n.reportItem.events.push({type:t,strId:n.strategyId,pId:[i]})}}function I(){function e(){function e(e,t){var n={};n[e]=t;var i=t.ctx,o=k.stringify(i);r[o]=r[o]||{ctx:i,widgets:{}},t=$dy.extend(!0,{},t),delete t.ctx,r[o].widgets[e]=t}if(null!==R){var r={};for(var n in R)if(R.hasOwnProperty(n)){var i=R[n];t(n,i),e(n,i)}for(var o in r)r.hasOwnProperty(o)&&DY.ServerUtil.logRcom(r[o]);R=null}}function t(e,t){if(H[e]){for(var r=t.events,n=[],i=B[e],o=0;o<r.length;o++)for(var a=i(r[o]),s=0;s<a.length;s++)n.push(a[s]);t.events=n,t.expData=W[e],t.fallbackData=G[e]}}function r(){clearTimeout(i),i=setTimeout(function(){r(),e()},n)}var n=1e4;"undefined"!=typeof DY.rcomFlushTimer&&(n=DY.rcomFlushTimer),DYO.CoreUtils.addWindowEventListener("beforeunload",e);var i;r()}function b(e,t){var r=$dy(e);r.data("dyCtx",t||DY&&DY.recommendationContext);var n=r.find("[data-dy-product-id]");n.mousedown(D);for(var i=r.find("[data-dy-strategy-id]"),o=[],a=0;a<n.length;a++)o.push(n[a]);for(var s=0;s<i.length;s++)o.push(i[s]);var u=DYO.recommendationsUtils.extractProductIdsFromElemnts;p(r.attr("data-dy-widget-id"),r.attr("data-dy-feed-id"),t,u(n)),DY.AdDetection.monitorInView(o,Y)}function _(e,t,r,n){try{3===arguments.length&&(n=r,r=t,t=null);var i=E(r);if(i)return void n(i);var o=$dy(e),a=DYO.recommendationsUtils.getWidgetElementId(o),s=DYO.recommendationsUtils.findProductElements(o),u=DYO.recommendationsUtils.extractProductIdsFromElemnts(s);l(a,r);var c=J[a];if(i=C(a,r.wId)||P(u,r))return n(i);var d=A(o,s,t);p(a,c,t,d),n()}catch(f){}}function E(e){if(!e.wId)return"ServerData without wId";if(!e.fId)return"ServerData without fId";if("[object Array]"!==Object.prototype.toString.call(e.slots))return"ServerData with incompatible type slots";for(var t=0;t<e.slots.length;t++){var r=e.slots[t];if("[object Object]"!==Object.prototype.toString.call(r))return"ServerData with incompatible type for slot at position "+t;if("[object Object]"!==Object.prototype.toString.call(r.item))return"ServerData with incompatible type in slots for item at position "+t;if(!r.strId)return"ServerData  with no strId in slots at position "+t;if(!r.item.sku)return"ServerData slot with no sku in slots at position "+t}return!1}function C(e,t){return e!=t?"ServerData and widget Id are not correlated":!1}function P(e,t){for(var r={},n=0;n<t.slots.length;n++){var i=t.slots[n];r[i.item.sku]=!0}for(var n=0;n<e.length;n++)if(!r[e[n]])return"Product "+e[n]+" on DOM and not in serverData";return!1}function A(e,t,r){e.data("dyCtx",r||DY&&DY.recommendationContext);for(var n=[],i=0;i<t.length;i++)n.push(t[i]);return n.push(e),DY.AdDetection.monitorInView(n,Y),DYO.recommendationsUtils.extractProductIdsFromElemnts(t)}function T(e){var t=DYO.rcom||{},r=t.widgets||{};for(var n in r)if(r.hasOwnProperty(n)&&r[n].name===e)return r[n].id=n,r[n];return!1}function N(e,t,r){r||(r=function(){});var n=k.stringify({id:e,opts:t}),i=X[n];if(i)r(null,i);else{t=t||{};var o=t.context||M,a=t.skusOnly||!1,s=DYO.recommendationsUtils.findWidgetById(e);if(s)s.id=e;else if(s=T(e),!s)throw{msg:"Could not find widget with id "+e};if(!o)throw{msg:"Context not defined"};s.skusOnly=a,s.options={context:o},d(s,function(e,t){e||(X[n]=t),r(e,t)})}}var U,k,M=null,V=[],j=!1,R=null,L={},F="_dyStrategyTitle_",q="Default",B={},W={},G={},H={},J={},$={},Z=function(){function e(e){return i[e]=i[e]||{strategies:[],products:[]},i[e]}function t(t,r,n){var i=e(t);return-1===i[r].indexOf(n)?(i[r].push(n),!0):!1}function r(e,r){return t(e,"strategies",r)}function n(e,r){return t(e,"products",r)}var i={};return{shouldLogProductView:n,shouldLogWidgetView:r}}();DY.API("callback",h),DYO.recommendationWidget=function(e,t){try{m({id:e,options:t})}catch(r){DY.API("internal_error",{name:"recommendations drawing error",error:r})}};var X={};DYO.recommendations={draw:m,getRcomData:N,registerElements:b,registerElementsAndServerData:_}}(),"object"!=typeof DYJSON&&(DYJSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,o,a,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toDYJSON&&(u=u.toDYJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,r=0;o>r;r+=1)a[r]=str(r,u)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;o>r;r+=1)"string"==typeof rep[r]&&(n=rep[r],i=str(n,u),i&&a.push(quote(n)+(gap?": ":":")+i));else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(i=str(n,u),i&&a.push(quote(n)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toDYJSON&&(Date.prototype.toDYJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toDYJSON=Number.prototype.toDYJSON=Boolean.prototype.toDYJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof DYJSON.stringify&&(DYJSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;r>n;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"undefined"!=typeof JSON&&"function"==typeof JSON.parse&&(DYJSON.parse=JSON.parse),"function"!=typeof DYJSON.parse&&(DYJSON.parse=function(text,reviver){function walk(e,t){var r,n,i=e[t];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n=walk(i,r),void 0!==n?i[r]=n:delete i[r]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),DYO.csc=function(){function e(){try{return DYJSON.parse(DYO.StorageUtils.get("_dy_csc",["localStorage","memoryStorage"]))||{}}catch(e){return{}}}function t(e){return DYO.StorageUtils.set("_dy_csc",DYJSON.stringify(e),["localStorage","memoryStorage"])}function r(t){return e()[t.toLowerCase()]}function n(r,n){var i=e();return i[r.toLowerCase()]=n,t(i),!0}function i(e){n(e,{ts:(new Date).valueOf(),ses:d,pv:l})}function o(e){return"undefined"==typeof r(e)&&i(e)}function a(e,t){return"undefined"!=typeof t&&null!==t?e-t:Number.MAX_VALUE}function s(e){var t=r(e);return t?{timeSince:a((new Date).valueOf(),t.ts),sessionsSince:a(d,t.ses),pageviewsSince:a(l,t.pv)}:{timeSince:Number.MAX_VALUE,sessionsSince:Number.MAX_VALUE,pageviewsSince:Number.MAX_VALUE}}function u(){l=r("_pv")||0,l++,n("_pv",l),d=r("_ses")||0;var e=!1;if(DYO.SessionUtils.isKnownToBeNewSessionSection()){var t=r("_sessid"),i=DYO.SessionUtils.getNewSessionId();i!==DYO.SessionUtils.NEXT&&(i!==t&&(e||(d++,e=!0),n("_ses",d)),n("_sessid",i))}else{var o=DYO.StorageUtils.get("_dy_csc_ses",["cookieStorage","sessionStorage"]);"t"!==o&&(e||(d++,e=!0),n("_ses",d)),DYO.StorageUtils.set("_dy_csc_ses","t",["cookieStorage","sessionStorage"],{domain:DYO.StorageUtils.getSecondLevelDomain(),expire:0})}DYO.SessionUtils.onNewSession(function(t){var i=r("_sessid");t!==i&&(e||(d++,e=!0),n("_ses",d)),n("_sessid",t)})}var c={},d=0,l=0;return c.markEvent=i,c.createEvent=o,c.readEvent=s,u(),c}(),function(){DYO.csc.createEvent("firstPV"),DY.API("sub",{on:"dy-event",callback:function(e,t){DYO.csc.markEvent("lastEvent_"+t)}})}(),"undefined"!=typeof window.DY.ssae&&window.DY.ssae||DYO.ready===!0&&(window.DY.ssae=!0,DYO.executeSmartActions(!0)),"undefined"!=typeof window.DY.skipAutoEmbed&&window.DY.skipAutoEmbed||DYO.ready===!0&&(window.DY.skipAutoEmbed=!0,DYO.autoEmbedSmarts()),function(){function e(e){return"object"==typeof DYO.smartVariableExperimentsMapV1&&"undefined"!=typeof DYO.smartVariableExperimentsMapV1[e]&&null!==DYO.smartVariableExperimentsMapV1[e]?DYO.smartVariableExperimentsMapV1[e]:null}function t(e,t,r){return"undefined"!=typeof DYO.smartVariableExperimentsV1?DYO.smartVariableExperimentsV1[e][t][r]:null}DYO.getDynamicVariableValue=function(r,n){if("undefined"!=typeof n)try{var i=JSON.parse(n);return i[r]}catch(o){return null}var a=e(r);if(!a)return null;if("undefined"==typeof a.expId||null===a.expId)return a.value;a=a.expId;var s=DYO.chooseMultipleVariations(parseInt(a),1,null),u=s[0].name;return"undefined"==typeof u||null===u?null:t(a,u,r)}}();